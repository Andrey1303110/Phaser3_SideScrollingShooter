/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t,e={247:(t,e,r)=>{r.d(e,{vc:()=>Ce,gw:()=>Me,vq:()=>He,nD:()=>De,nU:()=>We,Wg:()=>Ne,V1:()=>Ge});var n=r(260),o="Boot",i="Preload",a="Levels",s="Map",c="GameScene",u="Upgrade",l="update",f=["dragon","jet","strategic_jet","helicopter","boom"],h=["fire","flag","rocket","missile","missile_2","button_campaign","button_unlim","button_upgrade","map","battle","ruby","flag","frame","stamp","close","return","pause","pause_bg","restart","play","scale","reload","velocity","progressBar","progressBarFill","skobeeva_soloviev","chief_commander","commander","president","speechBg"],p=["select","error","rocket_launch","fire_launch","missile_launch","missile_2_launch","explosion_small","wings","stamp","ready","died","win","upgrade","level_up","whoosh","whoosh_map","click","fire_effect"];function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===y(o)?o:String(o)),n)}var o}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(c,Phaser.Scene);var e,r,n,a,s=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(n);if(a){var r=m(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function c(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,t)}return e=c,(r=[{key:"init",value:function(){if(!this.scale.isFullscreen){switch(this.scene.key){case o:case i:return}this.scale.startFullscreen()}We(),this.game.sound.stopAll()}},{key:"preload",value:function(){this.load.image("bg","./assets/sprites/bg.png")}},{key:"_createBG",value:function(){var t=this.add.sprite(Ce.width/2,Ce.height/2,"bg").setAlpha(.925).setOrigin(.5).setInteractive(),e=this.cameras.main.width/t.width,r=this.cameras.main.height/t.height,n=Math.max(e,r);t.setScale(n).setScrollFactor(0)}}])&&d(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}();function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(){w=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new R(n||[]);return o(a,"_invoke",{value:E(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function _(){}var x={};u(x,a,(function(){return this}));var O=Object.getPrototypeOf,S=O&&O(O(A([])));S&&S!==r&&n.call(S,a)&&(x=S);var k=_.prototype=m.prototype=Object.create(x);function P(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==b(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=h;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=L(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?d:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(b(e)+" is not iterable")}return g.prototype=_,o(k,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:g,configurable:!0}),g.displayName=u(_,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},P(j.prototype),u(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new j(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},P(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),B(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function _(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function x(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){_(i,n,o,a,s,"next",t)}function s(t){_(i,n,o,a,s,"throw",t)}a(void 0)}))}}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===b(o)?o:String(o)),n)}var o}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},S.apply(this,arguments)}function k(t,e){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},k(t,e)}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(p,t);var e,r,n,a,s,c,u,l,f,h=(l=p,f=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(l);if(f){var r=P(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function p(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),h.call(this,o)}return e=p,r=[{key:"init",value:function(){S(P(p.prototype),"init",this).call(this),We(),this._buttons={},this._buttons_num=0}},{key:"create",value:(u=x(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._createBG(),this._createSounds(),t.next=4,this._createLogoAnimation();case 4:localStorage.getItem("lang")?this._createPressLabel():this._createButtons();case 5:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"preload",value:function(){S(P(p.prototype),"preload",this).call(this),this.load.image("pervious_logo","./assets/sprites/pervious_logo.png"),this.load.image("eng","./assets/sprites/eng.png"),this.load.image("ukr","./assets/sprites/ukr.png"),this.load.image("button","./assets/sprites/button_lang.png"),this.load.audio("click","./assets/sounds/click.mp3"),this.load.audio("whoosh","./assets/sounds/whoosh.mp3")}},{key:"_addButtonEventListeners",value:function(t){var e=this;t.on("pointerover",(function(){return t.setAlpha(1)})),t.on("pointerout",(function(){return t.setAlpha(.75)})),t.on("pointerdown",(function(){return e._langSelect(t)}))}},{key:"_createButtons",value:function(){this._createButton("ukr",.35),this._createButton("eng",.65)}},{key:"_createButton",value:(c=x(w().mark((function t(e,r){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._buttons_num++,this._createButtonSprite(e,r),this._createButtonText(this._buttons[e],e),this._createButtonFlagSprite(this._buttons[e],e),t.next=6,this._createButtonTweens(this._buttons[e]);case 6:this._addButtonEventListeners(this._buttons[e]);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"_createButtonText",value:function(t,e){var r;switch(e){case"ukr":r="UKRAINIAN";break;case"eng":r="ENGLISH"}var n={font:"".concat(.04*Ce.width,"px DishOut"),fill:"#f0f0f0"};t.buttonText=this.add.text(t.x-.06*Ce.width,t.y,r,n).setScale(3).setOrigin(.5).setAlpha(0)}},{key:"_createButtonFlagSprite",value:function(t,e){t.buttonFlag=this.add.sprite(t.x+.095*Ce.width,t.y,e).setAlpha(0)}},{key:"_createButtonSprite",value:function(t,e){this._buttons[t]=this.add.sprite(Ce.width/2,Ce.height*e,"button").setScale(5).setAlpha(0).setOrigin(.5).setInteractive(),this._buttons[t].name=t}},{key:"_createButtonTweens",value:(s=x(w().mark((function t(e){var r=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){r.tweens.add({targets:[e,e.buttonText],delay:375*r._buttons_num,alpha:.675,scale:.85,ease:"Linear",duration:225,onStart:function(){return r.sounds.whoosh.play({volume:.33})},onComplete:function(){return t()}}),r.tweens.add({targets:e.buttonFlag,delay:375*r._buttons_num,alpha:.675,scale:.4,ease:"Linear",duration:225,onStart:function(){return r.sounds.whoosh.play({volume:.33})},onComplete:function(){return t()}})}));case 2:case"end":return t.stop()}}),t)}))),function(t){return s.apply(this,arguments)})},{key:"_createLogoAnimation",value:(a=x(w().mark((function t(){var e,r,n,o,i,a=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.add.sprite(Ce.width/2,Ce.height/2,"pervious_logo").setAlpha(0),r=this.cameras.main.width/e.width,n=this.cameras.main.height/e.height,o=Math.max(r,n),e.setScale(o).setScrollFactor(0),i=!localStorage.getItem("lang"),t.next=8,new Promise((function(t){a.tweens.add({targets:e,alpha:1,ease:"Linear",duration:1750,yoyo:i,onComplete:function(){return t()}})}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"_createPressLabel",value:(n=x(w().mark((function t(){var e,r,n,o=this;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={font:"".concat(.035*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#f0f0f0"},r=this.add.text(Ce.width/2,De.bottom,"PRESS ANYWHERE TO CONTINUE",e).setOrigin(.5,1.5).setAlpha(0),n=this.add.rectangle(0,0,Ce.width,Ce.height).setOrigin(0),t.next=5,new Promise((function(t){o.tweens.add({targets:r,alpha:.75,ease:"Linear",duration:350,onComplete:function(){return t()}})}));case 5:this.tweens.add({targets:r,scale:1.15,alpha:1,ease:"Linear",duration:500,repeat:-1,yoyo:!0}),n.setInteractive(),n.on("pointerdown",(function(){return o._click()}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"_langSelect",value:function(t){this._click(),Ne(t.name)}},{key:"_click",value:function(){this.sounds.click.play({volume:.2}),this.scene.start(i)}},{key:"_createSounds",value:function(){this.sounds||(this.sounds={click:this.sound.add("click"),whoosh:this.sound.add("whoosh")})}}],r&&O(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(g);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===E(o)?o:String(o)),n)}var o}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(a,Phaser.GameObjects.Sprite);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(n);if(o){var r=B(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t.scene,t.x,t.y,t.texture,t.frame)).init(t),e}return e=a,(r=[{key:"init",value:function(t){this.scene.add.existing(this),this.scene.physics.add.existing(this),this.body.enable=!0,this.velocity=t.velocity,this.reward=t.reward,this.move(),this.scene.events.on(l,this.update,this)}},{key:"reset",value:function(t,e){this.x=t,this.y=e,this.setAlive(!0)}},{key:"update",value:function(){this.active&&this.isDead()&&this.setAlive(!1)}},{key:"setAlive",value:function(t){this.body.enable=t,this.setVisible(t),this.setActive(t),this.timer&&(this.timer.paused=!t),t||(this.emit("killed"),this.launch_sound&&(this.launch_sound.stop(),this.launch_sound.stop()&&this.launch_sound.destroy()))}},{key:"isDead",value:function(){return!1}},{key:"move",value:function(){this.body.setVelocityX(this.velocity)}}])&&L(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==A(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===A(o)?o:String(o)),n)}var o}function I(t,e){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},I(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I(t,e)}(s,t);var e,r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(o);if(i){var r=C(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return e=s,n=[{key:"generate",value:function(t,e){return new s({scene:t,x:e.x+e.displayWidth/2*e.weapon.origin.x,y:e.y,texture:e.weapon.texture,velocity:e.weapon.velocity,scale:e.weapon.scale,reward:Ce.reward[e.weapon.texture]})}}],(r=[{key:"createSound",value:function(t){this.launch_sound=t.scene.sound.add("".concat(t.weapon.texture,"_launch")),this.launch_sound.play({volume:.35})}},{key:"move",value:function(){var t=this;"missile"===this.texture.key||"missile_2"===this.texture.key?(this.body.setVelocityY(250),this.body.setVelocityX(this.velocity/10),setTimeout((function(){t.body.setVelocityY(t.velocity/50),t.body.setVelocityX(t.velocity)}),175)):this.body.setVelocityX(this.velocity)}},{key:"reset",value:function(){return!1}},{key:"isDead",value:function(){return this.x>Ce.width+this.displayWidth||this.x<-this.displayWidth}}])&&F(e.prototype,r),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(R);function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==W(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===W(o)?o:String(o)),n)}var o}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}(a,Phaser.Physics.Arcade.Group);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=H(n);if(o){var r=H(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===W(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,t.physics.world,t)}return e=a,(r=[{key:"createFire",value:function(t){if(t.active){var e=D.generate(this.scene,t);e.setScale(t.weapon.scale),this.add(e),e.move(),this.createdCount++,e.createSound(t)}}}])&&G(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===V(o)?o:String(o)),n)}var o}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=q(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},K.apply(this,arguments)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}var X="dragon",z="dragon1",J="fly",Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=q(n);if(o){var r=q(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,{scene:t.scene,x:De.left,y:Ce.height/2,texture:X,frame:z,velocity:Ce.Player.velocity,weapon:{texture:"fire",delay:Ce.Weapons.fire.reload,velocity:Ce.Weapons.fire.velocity,scale:Ce.Weapons.fire.scale,origin:{x:1,y:.5}}}))._createAnimation(),e.play(J),e}return e=a,(r=[{key:"_createAnimation",value:function(){if(!this.scene.anims.anims.entries[J]){var t=this.scene.anims.generateFrameNames(X,{prefix:X,start:1,end:6});this.scene.anims.create({key:J,frames:t,frameRate:8,repeat:-1}),this.play(J)}}},{key:"init",value:function(t){K(q(a.prototype),"init",this).call(this,t),this.scene.add.existing(this),this.scene.physics.add.existing(this),this.body.enable=!0,this.fires=new M(this.scene),this.weapon=t.weapon,this.scale=Ce.Player.scale,this.scene.events.on(l,this._updateFrame,this),this._lastFrame=z,this._tweenFly=null}},{key:"_updateFrame",value:function(){var t=this;if(this.active){if(this.frame.name!==this._lastFrame){var e=this.y;"dragon6"===this.frame.name?this.scene.constructor.name!==c&&(this._tweenFly=this.scene.tweens.add({targets:this,y:e+this.displayHeight/3,ease:"Linear",duration:350,onComplete:function(){return t._tweenFly=null}})):"dragon3"===this.frame.name&&(this.scene.constructor.name!==c&&(this._tweenFly=this.scene.tweens.add({targets:this,y:e-this.displayHeight/3,ease:"Linear",duration:350,onComplete:function(){return t._tweenFly=null}})),this.scene.sounds.wings.play({volume:.1}))}this._lastFrame=this.frame.name}}},{key:"shooting",value:function(){var t=this;!this.scene.cursors.space.isDown&&!this.scene.fireButton.active||this._firesActivate||(this.scene.fireButton.setAlpha(.95),this.fires.createFire(this),this._firesActivate=!0,this.scene.time.addEvent({delay:this.weapon.delay,callback:function(){t._firesActivate=!1,t.scene.fireButton.setAlpha(.65)},callbackScope:this}))}},{key:"move",value:function(){this.body.setVelocity(0),this.y<De.top+this.displayHeight/1.5?this.y=De.top+this.displayHeight/1.5:this.y>De.bottom-this.displayHeight/1.5&&(this.y=De.bottom-this.displayHeight/1.5),this.x<De.left+this.displayWidth/1.5?this.x=De.left+this.displayWidth/1.5:this.x>De.right-this.displayWidth/1.5&&(this.x=De.right-this.displayWidth/1.5),this.handling()}},{key:"handling",value:function(){var t,e=100,r=!1;for(var n in this.scene.cursorKeys)this.scene.cursorKeys[n].isDown&&(r=!0,(e=Math.floor(100*this.scene.joyStick.force)/100)>100&&(e=100));if(t=r?this.scene.cursorKeys:this.scene.cursors){if(t.left.isDown){if(this.x<this.x-this.velocity/Ce.fps)return;this.body.setVelocityX(-this.velocity*(e/100))}else if(t.right.isDown){if(this.x>this.x+this.velocity/Ce.fps)return;this.body.setVelocityX(this.velocity*(e/100))}if(t.up.isDown||t.down.isDown)if(this._tweenFly&&(this._tweenFly.paused=!0),t.up.isDown){if(this.y<this.y-this.velocity/Ce.fps)return;this.body.setVelocityY(-this.velocity*(e/100))}else if(t.down.isDown){if(this.y>this.y+this.velocity/Ce.fps)return;this.body.setVelocityY(this.velocity*(e/100))}}}}])&&Y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(R);function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===$(o)?o:String(o)),n)}var o}function tt(){return tt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},tt.apply(this,arguments)}function et(t,e){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},et(t,e)}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(s,t);var e,r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=rt(o);if(i){var r=rt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.apply(this,arguments)}return e=s,n=[{key:"generateAttr",value:function(t){var e=De.right+.25*Ce.width,r=Phaser.Math.Between(De.top+t.maxEnemyFrameHeight/2,De.bottom-t.maxEnemyFrameHeight/2),n=0;t.info.level>4&&(n=1,t.info.level>8&&(n=2));var o=Object.keys(Ce.Enemies)[Phaser.Math.Between(0,n)];return{x:e,y:r,enemyTexture:"enemy".concat(Phaser.Math.Between(1,Ce.Enemies[o].textureNums)),enemyType:o}}},{key:"generate",value:function(t,e){var r=s.generateAttr(t);return new s({scene:t,fires:e,x:r.x,y:r.y,enemyType:r.enemyType,texture:r.enemyType,frame:r.enemyTexture,velocity:-1*Ce.Enemies[r.enemyType].velocity})}}],(r=[{key:"init",value:function(t){tt(rt(s.prototype),"init",this).call(this,t),this._setInitialData(t),this._setWeapon(),this._addTimer()}},{key:"stopTimer",value:function(){this._firesActivate=!1}},{key:"reset",value:function(){var t=s.generateAttr(this.scene);tt(rt(s.prototype),"reset",this).call(this,t.x,t.y),this.setWeapon(),this.setFrame(t.frame)}},{key:"isDead",value:function(){return this.x<-this.displayWidth}},{key:"_addTimer",value:function(){this.timer=this.scene.time.addEvent({delay:Ce.Weapons[this.weapon.texture].reload*(.01*Phaser.Math.Between(70,130)),loop:!0,callback:this._shooting,callbackScope:this})}},{key:"_setInitialData",value:function(t){var e=t.enemyType,r=t.texture,n=t.fires;this._enemyType=e,this._firesActivate=!0,this.reward=Ce.reward[r],this.fires=n,this.scale=Ce.Enemies[e].scale}},{key:"_setWeapon",value:function(){this.weapon={texture:Ce.Enemies[this._enemyType].weapon,delay:Ce.Weapons[Ce.Enemies[this._enemyType].weapon].reload,velocity:Ce.Weapons[Ce.Enemies[this._enemyType].weapon].velocity,scale:Ce.Weapons[Ce.Enemies[this._enemyType].weapon].scale,origin:{x:-1,y:.5}}}},{key:"_shooting",value:function(){this._firesActivate&&this.fires.createFire(this)}}])&&Q(e.prototype,r),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(R);function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ot(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ot(o)?o:String(o)),n)}var o}function at(t,e){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},at(t,e)}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ct(t){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(t)}var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e)}(a,Phaser.Physics.Arcade.Group);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ct(n);if(o){var r=ct(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return st(t)}(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t.physics.world,t)).scene=t,e.fires=new M(e.scene),e.countMax=e.scene.info.enemies,e.killed=0,e.createdCount=0,e.timer=e.scene.time.addEvent({delay:e.scene.info.enemiesDelay,loop:!0,callback:e.tick,callbackScope:st(e)}),e}return e=a,(r=[{key:"tick",value:function(){this.scene.time.addEvent({delay:this.scene.info.enemiesDelay*(.01*Phaser.Math.Between(50,150)),callback:this.createEnemy,callbackScope:this})}},{key:"stopTimer",value:function(){this.timer.remove()}},{key:"createEnemy",value:function(){if(this.countMax>this.createdCount){var t=nt.generate(this.scene,this.fires);t.on("killed",this.onEnemyKilled,this),this.add(t),t.move(),this.createdCount++}else this.timer.remove()}},{key:"onEnemyKilled",value:function(){this.killed++,this.killed>=this.countMax&&this.scene.events.emit("enemies-killed")}}])&&it(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}();function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==lt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===lt(o)?o:String(o)),n)}var o}function ht(t,e){return ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ht(t,e)}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yt(t)}var dt="explosion",vt="boom",mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}(s,Phaser.GameObjects.Sprite);var e,r,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yt(o);if(i){var r=yt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pt(t)}(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this,t.scene,t.x,t.y)).scene.add.existing(pt(e)),e.scene.physics.add.existing(pt(e)),e.body.enable=!0,e._createAnimation(),e.play(dt),e.once(Phaser.Animations.Events.ANIMATION_COMPLETE,(function(){e.destroy()})),e}return e=s,n=[{key:"generate",value:function(t,e,r){return new s({scene:t,x:e,y:r})}}],(r=[{key:"_createAnimation",value:function(){if(!this.scene.anims.anims.entries[dt]){var t=this.scene.anims.generateFrameNames(vt,{prefix:vt,start:1,end:7});this.scene.anims.create({key:dt,frames:t,frameRate:8,repeat:0})}}}])&&ft(e.prototype,r),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}();function gt(t){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(t)}function bt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==gt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===gt(o)?o:String(o)),n)}var o}function wt(){return wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},wt.apply(this,arguments)}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function xt(t){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xt(t)}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=xt(n);if(o){var r=xt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),i.call(this,c)}return e=u,(r=[{key:"init",value:function(t){wt(xt(u.prototype),"init",this).call(this),"0"!==localStorage.getItem("firstTimePlay")&&localStorage.setItem("firstTimePlay","0"),this.info=t,this._currentLevelScene=this.info.level,this._currentScore=0,this._black_bg=null}},{key:"create",value:function(t){var e;this.cursors=this.input.keyboard.createCursorKeys(),this._createBG(t),this._getMaxEnemyHeightFrame(),this._createPlayer(),this._createEnemies(),this._createCompleteEvents(),this._addOverlap(),this._createScoreText(),this._createSounds(),this._addPauseButton(),this._addMobileButtons(),this._addJoystick(),this._addFireButton(),null!==(e=this.info)&&void 0!==e&&e.unlim||this._addProgressBar()}},{key:"update",value:function(){this._sceneBG.tilePositionX+=this._sceneBG.width/1e4*this.speed,this._dumpJoyStickState(),this._player.move(),this._player.shooting()}},{key:"_addMobileButtons",value:function(){document.body.clientWidth>1280||(this._addJoystick(),this._addFireButton())}},{key:"_addJoystick",value:function(){this.joyStick=this.plugins.get("rexvirtualjoystickplugin").add(this,{x:De.left+Ce.joystick.radius+Ce.joystick.gap,y:De.bottom-Ce.joystick.radius-Ce.joystick.gap,radius:Ce.joystick.radius,base:this.add.circle(0,0,Ce.joystick.radius).setStrokeStyle(3.5,1729964).setAlpha(.75),thumb:this.add.circle(0,0,Ce.joystick.radius/2,13421772).setAlpha(.5),dir:"8dir"})}},{key:"_dumpJoyStickState",value:function(){this.joyStick&&(this.cursorKeys=this.joyStick.createCursorKeys())}},{key:"_addFireButton",value:function(){var t=this;this.fireButton=this.add.sprite(De.right-Ce.joystick.radius-Ce.joystick.gap,this.joyStick.y,"fire").setAlpha(.65).setInteractive().setActive(!1).on("pointerup",(function(){t.fireButton.active=!1}),this).on("pointerdown",(function(){t.fireButton.active=!0,t._player.shooting()}),this)}},{key:"_createBG",value:function(t){var e=null!=t&&t.unlim?"bg".concat(Phaser.Math.Between(1,Ce.Levels.length)):"bg".concat(t.level),r=this.textures.list[e].source[0].height,n=Ce.height/r;this.speed=Ce.Levels[this._currentLevelScene-1].velocity,1!==n&&(this.speed/=n),this._sceneBG=this.add.tileSprite(0,0,Ce.width,Ce.height,e).setOrigin(0).setScale(n).setAlpha(.65)}},{key:"_createScoreText",value:function(){var t;this.hiScoreText&&this.hiScoreText.destroy(),this.scoreText=this.add.text(De.right-.01*Ce.width,De.top+.01*Ce.width,this._currentScore,{font:"".concat(.03*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#EA0000"}).setOrigin(1,0).setAlpha(.75),null!==(t=this.info)&&void 0!==t&&t.unlim&&(this.hiScoreText=this.add.text(Ce.width/2,De.top+.01*Ce.width,"High score: "+localStorage.getItem("unlimHiScores"),{font:"".concat(.03*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#EA0000"}).setOrigin(.5,0).setAlpha(.75))}},{key:"_createPlayer",value:function(){this._player=new Z({scene:this})}},{key:"_createEnemies",value:function(){this._enemies=new ut(this)}},{key:"_createSounds",value:function(){this.sounds||(this.sounds={rocket_launch:this.sound.add("rocket_launch"),fire_launch:this.sound.add("fire_launch"),missile_launch:this.sound.add("missile_launch"),explosion_small:this.sound.add("explosion_small"),wings:this.sound.add("wings"),died:this.sound.add("died"),win:this.sound.add("win"),level_up:this.sound.add("level_up")})}},{key:"_addOverlap",value:function(){this.physics.add.overlap(this._player.fires,this._enemies,this._onOverlap,void 0,this),this.physics.add.overlap(this._enemies.fires,this._player,this._onOverlap,void 0,this),this.physics.add.overlap(this._player.fires,this._enemies.fires,this._onOverlap,void 0,this),this.physics.add.overlap(this._player,this._enemies,this._onOverlap,void 0,this)}},{key:"_onOverlap",value:function(t,e){if(!(e.x>Ce.width+e.displayWidth/2)){if(t!==this._player&&e!==this._player){var r,n;if(null===(r=this.info)||void 0===r||!r.unlim){var o=e.texture.key;"strategic_jet"===e.texture.key?o="jet":"missile_2"===e.texture.key&&(o="missile");var i=Number(localStorage.getItem("losses_".concat(o)));localStorage.setItem("losses_".concat(o),++i)}var a=Number((e.reward*Math.pow(Ce.level.scoreCof,this._currentLevelScene-1)).toFixed(0));if(this._currentScore+=a,null===(n=this.info)||void 0===n||!n.unlim){var s=Number(Ce.totalScore);localStorage.setItem("totalScore",s+a),Ce.totalScore=s+a}this.scoreText.text=this._currentScore,this._updateProgressBar()}mt.generate(this,e.x,e.y),t.setAlive(!1),e.setAlive(!1),this.sounds.explosion_small.play()}}},{key:"_createCompleteEvents",value:function(){this._player.emit("killed"),this._player.once("killed",this._onComplete,this),this.events.once("enemies-killed",this._onComplete,this)}},{key:"_onComplete",value:function(){var t=this;if(!this._black_bg){this._black_bg=this.add.rectangle(Ce.width/2,Ce.height/2,Ce.width,Ce.height,"0x000000",0).setInteractive().setDepth(9999999);var e=this.add.text(this._black_bg.x,this._black_bg.y,"",{font:"".concat(.03*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#EA0000"}).setOrigin(.5).setAlpha(0).setDepth(this._black_bg.depth);if(this.game.sound.stopAll(),this._player.active){if(this.sounds.win.play(),e.text="GLORY TO UKRAINE!",this.info.hiScore<this._currentScore){var r=localStorage.getItem("hiScores").split(",");r[this._currentLevelScene-1]=this._currentScore,localStorage.setItem("hiScores",r.join())}Ce.currentLevelScene<=this._currentLevelScene&&(Ce.currentLevelScene++,localStorage.setItem("currentLevelScene",Ce.currentLevelScene))}else e.text="HEROES DON'T DIE!",this.sounds.died.play(),this.info.unlim&&localStorage.getItem("unlimHiScores")<this._currentScore&&localStorage.setItem("unlimHiScores",this._currentScore);this.tweens.add({targets:[this._black_bg,e],fillAlpha:1,alpha:1,scale:2*e.scale,ease:"Linear",duration:1e3*this.sounds.died.duration*.75,onComplete:function(){t.info.unlim?t.scene.start(a):t.scene.start(s),t.scene.stop()}}),this._enemies.stopTimer(),this._enemies.children.entries.forEach((function(t){t.stopTimer()}))}}},{key:"_addPauseButton",value:function(){var t=this;this.add.sprite(De.left+.015*Ce.width,De.top+.015*Ce.width,"pause").setAlpha(.65).setInteractive().on("pointerdown",(function(){t.scene.launch("Pause"),t.scene.pause()}),this)}},{key:"_addProgressBar",value:function(){this._progressBar=this.add.sprite(Ce.width/2,De.top+.0225*Ce.width,"progressBar").setAlpha(.95),this._progressBar.fillProgress=this.add.sprite(this._progressBar.x+.1*this._progressBar.displayWidth,this._progressBar.y+.04*this._progressBar.displayHeight,"progressBarFill").setAlpha(.95),this._progressBar.levelText=this.add.text(this._progressBar.x-.38*this._progressBar.displayWidth,this._progressBar.y-.035*this._progressBar.displayHeight,Ce.currentLevelPlayer,{font:"".concat(.545*this._progressBar.displayHeight,"px ").concat(Ce.fonts[Ce.lang]),fill:"#FFFFFF"}).setOrigin(.5).setAlpha(.75),this._updateProgressBar()}},{key:"_updateProgressBar",value:function(){var t;if(null===(t=this.info)||void 0===t||!t.unlim){var e={start:this._getRequiredScoreOnLevel(Ce.currentLevelPlayer-1),end:this._getRequiredScoreOnLevel(Ce.currentLevelPlayer),diff:this._getRequiredScoreOnLevel(Ce.currentLevelPlayer)-this._getRequiredScoreOnLevel(Ce.currentLevelPlayer-1)},r=(Ce.totalScore-e.start)/e.diff;Ce.currentLevelPlayer<2&&(r=Ce.totalScore/e.diff),r>=1&&(this._increaseLevel(),e={start:this._getRequiredScoreOnLevel(Ce.currentLevelPlayer-1),end:this._getRequiredScoreOnLevel(Ce.currentLevelPlayer),diff:this._getRequiredScoreOnLevel(Ce.currentLevelPlayer)-this._getRequiredScoreOnLevel(Ce.currentLevelPlayer-1)},r=1- -1*(Ce.totalScore-e.end)/e.diff),this._progressBar.fillProgress.frame.cutWidth=this._progressBar.fillProgress.displayWidth*r,this._progressBar.fillProgress.frame.updateUVs(),this._progressBar.text=Ce.currentLevelPlayer}}},{key:"_increaseLevel",value:function(){var t=this;this.sounds.level_up.play({volume:.5}),Ce.currentLevelPlayer++,localStorage.setItem("currentLevelPlayer",Ce.currentLevelPlayer);var e=this.add.text(Ce.width/2,Ce.height/2,Ce.currentLevelPlayer,{font:"".concat(.25*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#FFFFFF"}).setOrigin(.5).setAlpha(0);this.tweens.add({targets:e,alpha:1,x:this._progressBar.levelText.x,y:this._progressBar.levelText.y,scale:this._progressBar.levelText.displayWidth/e.displayWidth,ease:"Linear",duration:500,onComplete:function(){e.destroy(),t._progressBar.levelText.text=Ce.currentLevelPlayer}}),this._increaseMoney()}},{key:"_getRequiredScoreOnLevel",value:function(t){for(var e=0,r=0;r<t;r++)e+=Number((Ce.level.score*Math.pow(Ce.level.levelCof,r)).toFixed(0));return e}},{key:"_increaseMoney",value:function(){++Ce.money,localStorage.setItem("money",Ce.money)}},{key:"_getMaxEnemyHeightFrame",value:function(){var t=0,e=this.textures.list.helicopter.frames;Object.keys(e).forEach((function(r){e[r].cutHeight>t&&(t=e[r].height)})),this.maxEnemyFrameHeight=t}}])&&bt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(g);function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function kt(){kt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:P(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(B([])));x&&x!==r&&n.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==St(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=h;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?d:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function B(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(St(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=B,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:B(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Pt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function jt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Pt(i,n,o,a,s,"next",t)}function s(t){Pt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==St(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==St(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===St(o)?o:String(o)),n)}var o}function Lt(){return Lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Lt.apply(this,arguments)}function Tt(t,e){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tt(t,e)}function Bt(t){return Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bt(t)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tt(t,e)}(h,t);var e,r,n,o,i,l,f=(i=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Bt(i);if(l){var r=Bt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===St(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),f.call(this,a)}return e=h,r=[{key:"init",value:function(){Lt(Bt(h.prototype),"init",this).call(this),this._buttons={},this._buttons_num=0}},{key:"create",value:function(){this._createBG(),this._createSounds(),this._createButton("campaign",.275),this._createButton("unlim",.5),this._createButton("upgrade",.725)}},{key:"_addButtonEventListeners",value:function(t){var e=this;t.on("pointerover",(function(){return t.setAlpha(1)})),t.on("pointerout",(function(){return t.setAlpha(.75)})),t.on("pointerdown",(function(){return e._gameSelect(t)}))}},{key:"_createButton",value:(o=jt(kt().mark((function t(e,r){return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._buttons_num++,this._createButtonSprite(e,r),this._createButtonText(this._buttons[e],e),t.next=5,this._createButtonTweens(this._buttons[e]);case 5:this._addButtonEventListeners(this._buttons[e]);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"_createButtonText",value:function(t,e){var r=e.toUpperCase(),n={font:"".concat(.03*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#f0f0f0"};t.buttonText=this.add.text(t.x,t.y,r,n).setScale(3).setOrigin(.5).setAlpha(0)}},{key:"_createButtonSprite",value:function(t,e){this._buttons[t]=this.add.sprite(Ce.width/2,Ce.height*e,"button_"+t).setScale(5).setAlpha(0).setOrigin(.5).setInteractive(),this._buttons[t].name=t}},{key:"_createButtonTweens",value:(n=jt(kt().mark((function t(e){var r=this;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Promise.race([new Promise((function(t){r.tweens.add({targets:[e,e.buttonText],delay:375*r._buttons_num,alpha:.675,scale:.65,ease:"Linear",duration:225,onStart:function(){return r.sounds.whoosh.play({volume:.33})},onComplete:function(){return t()}})})),new Promise((function(t){r.tweens.add({targets:e.buttonText,delay:375*r._buttons_num,alpha:.9,scale:1,ease:"Linear",duration:225,onComplete:function(){return t()}})}))]);case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"_gameSelect",value:function(t){var e=this;this.sounds.click.play({volume:.2}),this.tweens.add({targets:[t,t.buttonText],alpha:0,scale:7,ease:"Linear",duration:750,onComplete:function(){return e._startNewScene(t.name)}})}},{key:"_startNewScene",value:function(t){switch(t){case"campaign":this.scene.start(s);break;case"unlim":this.scene.start(c,Ce.unlim);break;case"upgrade":this.scene.start(u)}}},{key:"_createSounds",value:function(){this.sounds||(this.sounds={click:this.sound.add("click"),whoosh:this.sound.add("whoosh")})}}],r&&Et(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(g);function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function Ft(){Ft=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:P(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(B([])));x&&x!==r&&n.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==At(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=h;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?d:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function B(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(At(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=B,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:B(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function It(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ct(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){It(i,n,o,a,s,"next",t)}function s(t){It(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Dt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==At(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===At(o)?o:String(o)),n)}var o}var Wt=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._scene=e,this._createDialog(r),this._setInitPosition()}var e,r,n,o;return e=t,r=[{key:"showEnter",value:(o=Ct(Ft().mark((function t(){var e=this;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){e._elements.forEach((function(r){e._scene.scene.tweens.add({targets:r,x:r.x+Ce.width,ease:"Power1",duration:750,onComplete:function(){return t()}})}))}));case 2:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"showExit",value:(n=Ct(Ft().mark((function t(){var e=this;return Ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){e._elements.forEach((function(r){e._scene.scene.tweens.add({targets:r,x:r.x-Ce.width,ease:"Power2",duration:450,onComplete:function(){return t()}})}))}));case 2:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"_setInitPosition",value:function(){this._elements=[this._bg,this._person,this._text],this._elements.forEach((function(t){return t.x-=Ce.width}))}},{key:"_createDialog",value:function(t){this._createBg(),this._createPerson(t),this._createText(t)}},{key:"_createBg",value:function(){Ce.width,Ce.height;var t=.5*Ce.width,e=.72*Ce.height;this._bg=this._scene.scene.add.sprite(t,e,"speechBg")}},{key:"_createPerson",value:function(t){var e=t.image;this._person=this._scene.scene.add.sprite(this._bg.x,this._bg.y,e),this._person.y=this._bg.y-.5*(this._person.height-this._bg.height),this._person.x=this._bg.x-this._bg.width/2+.2*this._person.width}},{key:"_createText",value:function(t){var e=t.text,r=.025*Ce.width,n=.01*Ce.width,o=.03*Ce.width,i=this._person.x+this._person.width/2,a=this._bg.x+this._bg.width/2,s=this._scene.scene.add.text(0,0,e,{fontFamily:"Comfortaa-Regular",fontSize:r,lineSpacing:.4*r,color:"#A0A0A0",align:"left",wordWrap:{width:a-i-o}});if(s.height+n>this._bg.height){var c=(s.height+n)/this._bg.height,u=parseFloat(s.style.fontSize)/c;s.setFontSize(u)}s.setPosition(this._bg.x+o+1*this._person.width/4,this._bg.y),s.setOrigin(.5),this._text=s}}],r&&Dt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Gt(t){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gt(t)}function Nt(){Nt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:P(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(B([])));x&&x!==r&&n.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Gt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=h;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?d:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function B(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Gt(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=B,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:B(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ht(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Gt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Gt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Gt(o)?o:String(o)),n)}var o}var Kt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._scene=e}var e,r,n,o;return e=t,r=[{key:"flowShow",value:(n=Nt().mark((function t(e){var r,n,o,i;return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._setData(e),this._data){t.next=3;break}return t.abrupt("return");case 3:r=Ht(this._data),t.prev=4,r.s();case 6:if((n=r.n()).done){t.next=17;break}return o=n.value,i=new Wt(this._scene,o),t.next=11,i.showEnter(i);case 11:return t.next=13,Me(7500);case 13:return t.next=15,i.showExit(i);case 15:t.next=6;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),r.e(t.t0);case 22:return t.prev=22,r.f(),t.finish(22);case 25:case 26:case"end":return t.stop()}}),t,this,[[4,19,22,25]])})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){Vt(i,r,o,a,s,"next",t)}function s(t){Vt(i,r,o,a,s,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})},{key:"_setData",value:function(t){this._data=this._scene.scene.cache.json.get("dialogues".concat(t))}}],r&&Yt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ut(t){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(t)}function qt(){qt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),s=new T(n||[]);return o(a,"_invoke",{value:P(t,r,s)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var w={};u(w,a,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(B([])));x&&x!==r&&n.call(x,a)&&(w=x);var O=b.prototype=m.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,i,a,s){var c=f(t[o],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==Ut(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function P(e,r,n){var o=h;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?d:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=d,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function B(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ut(e)+" is not iterable")}return g.prototype=b,o(O,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},S(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(O),u(O,c,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=B,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:B(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Xt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function zt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Xt(i,n,o,a,s,"next",t)}function s(t){Xt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Ut(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===Ut(o)?o:String(o)),n)}var o}function Zt(){return Zt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Qt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Zt.apply(this,arguments)}function $t(t,e){return $t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},$t(t,e)}function Qt(t){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qt(t)}var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$t(t,e)}(h,t);var e,r,n,o,i,l,f=(i=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Qt(i);if(l){var r=Qt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),f.call(this,s)}return e=h,r=[{key:"init",value:function(){Zt(Qt(h.prototype),"init",this).call(this),this._mapDots=[]}},{key:"create",value:(o=zt(qt().mark((function t(){return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._createSounds(),this._createBG(),this._createMap(),this._createMissions(),this._createLosses(),this._createReturnButton(),this._createControllers(),this._addAvailableMoney(),t.next=10,Me(5e3);case 10:return t.next=12,this._dialogBoxConroller.flowShow(Ce.currentLevelScene-1);case 12:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"_createMap",value:function(){this._map=this.add.sprite(Ce.width/2,Ce.height/2,"map").setAlpha(.65).setOrigin(.5).setScale(1.25)}},{key:"_createMissions",value:function(){var t=this,e=[];Ce.Levels.forEach((function(r,n){e.push({at:100*n,run:function(){return t._createDot(r)}})})),this.add.timeline(e).play()}},{key:"_createDot",value:(n=zt(qt().mark((function t(e){var r,n,o,i,a=this;return qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(Ce.width-this._map.displayWidth)/2+e.x/1e3*this._map.displayWidth,n=(Ce.height-this._map.displayHeight)/2+e.y/1e3*this._map.displayWidth,(o=this.add.sprite(r,n,"battle").setAlpha(0).setScale(6).setOrigin(.5).setInteractive().on("pointerdown",this.selectLevel)).info=e,o.isCurrent=!1,i={alpha:1,scale:1},e.level>Ce.currentLevelScene?(o.on("pointerdown",(function(){a.sounds.error.play({volume:.33})})),o.active=!1,i.alpha=2/3,i.scale=2/3):(o.setAlpha(1).on("pointerdown",(function(){a.sounds.select.play({volume:.33})})),o.active=!0,Ce.currentLevelScene>e.level?o.setTexture("flag").setOrigin(0,1):o.isCurrent=!0),this._createDotTween(o,i),this._mapDots.push(o);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"_createDotTween",value:function(t,e){var r=this;this.tweens.add({targets:t,alpha:e.alpha,scale:e.scale,ease:"easeInCirc",duration:250,onStart:function(){return r.sounds.whoosh_map.play({volume:.2})},onComplete:function(){t.isCurrent&&r._addDotAnim(t)}})}},{key:"_addDotAnim",value:function(t){t.setScale(1),this.tweens.add({targets:t,scale:1.5,duration:425,yoyo:!0,repeat:-1}),this.sounds.fire_effect.play({volume:.1}),this.sounds.fire_effect.loop=!0}},{key:"selectLevel",value:function(){this.active&&this.scene.createLevelCard(this.info)}},{key:"createLevelCard",value:function(t){var e=this,r=this.add.rectangle(Ce.width/2,Ce.height/2,Ce.width,Ce.height,"0x000000",0).setInteractive(),n=localStorage.getItem("hiScores").split(",")[t.level-1];t.hiScore=n;var o=this.add.sprite(Ce.width/2,Ce.height/2,"frame");o.displayHeight=.795*Ce.height;var i=[];i.push(this.add.text(o.x,o.y-o.displayHeight/2+.086*o.displayHeight,"MISSION",{font:"".concat(.13*o.displayWidth,"px ").concat(Ce.fonts[Ce.lang]),fill:"#0a0a0a"}).setOrigin(.5).setAlpha(.55)),i.push(this.add.text(o.x,o.y-o.displayHeight/2+.25*o.displayHeight,"Level ".concat(t.level),{font:"".concat(.0925*o.displayWidth,"px ").concat(Ce.fonts[Ce.lang]),fill:"#0a0a0a"}).setOrigin(.5).setAlpha(.8)),i.push(this.add.text(o.x,o.y-o.displayHeight/2+.37*o.displayHeight,"City",{font:"".concat(.055*o.displayWidth,"px ").concat(Ce.fonts[Ce.lang]),fill:"#0a0a0a"}).setOrigin(.5).setAlpha(.8)),i.push(this.add.text(o.x,o.y-o.displayHeight/2+.44*o.displayHeight,t.name,{font:"".concat(.06175*o.displayWidth,"px ").concat(Ce.fonts[Ce.lang]),fill:"#0a0a0a"}).setOrigin(.5).setAlpha(.8)),n>0&&i.push(this.add.text(o.x,o.y-o.displayHeight/2+.58*o.displayHeight,"Hi score: ".concat(n),{font:"".concat(.049*o.displayWidth,"px ").concat(Ce.fonts[Ce.lang]),fill:"#E2B80D"}).setOrigin(.5).setAlpha(.8)),i.push(this.add.text(o.x,o.y-o.displayHeight/2+.71*o.displayHeight,"Enemies - ".concat(t.enemies),{font:"".concat(.051*o.displayWidth,"px ").concat(Ce.fonts[Ce.lang]),fill:"#EA0000"}).setOrigin(.5).setAlpha(.8)),this.sounds.stamp.play();var a=this.add.sprite(o.x,o.y,"stamp").setAlpha(0).setAngle(31).setScale(2.5),s=o.x+o.displayWidth/2-o.displayWidth*Phaser.Math.Between(25,35)/100,c=o.y+o.displayWidth/2-o.displayHeight*Phaser.Math.Between(26,30)/100;this.add.timeline([{tween:{targets:a,scale:.26,x:s,y:c,alpha:.85,ease:"Power3",duration:365}},{at:365,tween:{targets:a,scale:.305,alpha:.55,ease:"Power2",duration:273.75}},{at:638.75,run:function(){var n=e.add.text(o.x,o.y+o.displayHeight/2-.09*o.displayHeight,"START",{font:"".concat(.105*o.displayWidth,"px ").concat(Ce.fonts[Ce.lang]),fill:"#51E04A"}).setOrigin(.5).setAlpha(.7).setInteractive().on("pointerdown",(function(){e._gameStart(t),e.sounds.fire_effect.stop()})).on("pointerover",(function(){n.setAlpha(.9)})).on("pointerout",(function(){n.setAlpha(.7)}));i.push(n);var s=e.add.sprite(o.x+o.displayWidth/2,o.y-o.displayHeight/2,"close").setOrigin(1.3,-.35).setAlpha(.7).setInteractive().on("pointerdown",(function(){e._cardClose({bg_rect:r,frame:o,texts:i,stamp:a,close_button:s})})).on("pointerover",(function(){s.setAlpha(.9)})).on("pointerout",(function(){s.setAlpha(.7)}))}}]).play()}},{key:"_cardClose",value:function(t){this.sounds.click.play({volume:.2}),t.bg_rect.destroy(),t.frame.destroy(),t.stamp.destroy(),t.close_button.destroy(),t.texts.forEach((function(t){t.destroy()}))}},{key:"_gameStart",value:function(t){var e=this;this.sounds.ready.play();var r=this.add.rectangle(Ce.width/2,Ce.height/2,Ce.width,Ce.height,"0x000000",0).setInteractive();this.tweens.add({targets:r,fillAlpha:1,ease:"Linear",duration:1e3*this.sounds.ready.duration*.7,onComplete:function(){return e.scene.start(c,t)}})}},{key:"_createLosses",value:function(){var t=this;this.losses_text&&this.losses_text.forEach((function(t){t.destroy()}));var e={x:De.left+.033*Ce.width,y:.635*Ce.height};this.losses_text=[],this.losses_text.push(this.add.text(e.x,e.y,"Total russian losses:",{font:"".concat(.025*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#EA0000"}).setOrigin(0,.5).setAlpha(.75)),Object.keys(Ce.Losses).forEach((function(r){e.y+=.0285*Ce.width,t.losses_text.push(t.add.text(e.x,e.y,"".concat(r,"s: ").concat(localStorage.getItem("losses_".concat(r))),{font:"".concat(.0215*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#000000"}).setOrigin(0,.5).setAlpha(.75))}))}},{key:"_createReturnButton",value:function(){var t=this;this.add.sprite(De.left+.015*Ce.width,De.top+.015*Ce.width,"return").setAlpha(.65).setInteractive().on("pointerdown",(function(){t.scene.start(a),t.sounds.click.play({volume:.2})}))}},{key:"_createControllers",value:function(){this._dialogBoxConroller=new Kt(this.scene)}},{key:"_addAvailableMoney",value:function(){var t=this,e={font:"".concat(.031*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#FFFFFF"};this.moneyIcon=this.add.sprite(De.right-.075*Ce.height,De.top+.075*Ce.height,"ruby").setScale(.25).setInteractive().on("pointerdown",(function(){return t.scene.start(u)})),this.moneyText=this.add.text(this.moneyIcon.x-this.moneyIcon.displayWidth,this.moneyIcon.y,Ce.money,e).setOrigin(.5).setAlpha(1)}},{key:"_createSounds",value:function(){this.sounds||(this.sounds={click:this.sound.add("click"),select:this.sound.add("select"),error:this.sound.add("error"),stamp:this.sound.add("stamp"),ready:this.sound.add("ready"),whoosh_map:this.sound.add("whoosh_map"),fire_effect:this.sound.add("fire_effect")})}}],r&&Jt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(g);function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ee(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ee(o)?o:String(o)),n)}var o}function ne(t,e){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ne(t,e)}function oe(t){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oe(t)}var ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ne(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=oe(n);if(o){var r=oe(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,"Pause")}return e=a,(r=[{key:"create",value:function(){this._createBG(),this._createButtons(),this._toggleMenu()}},{key:"_createBG",value:function(){this.black_bg=this.add.rectangle(Ce.width/2,Ce.height/2,Ce.width,Ce.height,"0x000000",0),this.sceneBG=this.add.sprite(Ce.width/2,-1*Ce.height,"pause_bg").setOrigin(.5),this.tweens.add({targets:this.sceneBG,y:Ce.height/2,ease:"Linear",duration:750})}},{key:"_createButtons",value:function(){var t=this;this.play_button=this.add.sprite(this.sceneBG.x,this.sceneBG.y,"play").setScale(.8).setAlpha(.85).setOrigin(.5).setInteractive().on("pointerdown",(function(){return t._toggleMenu("resume")}),this).on("pointerover",(function(){return t.play_button.setAlpha(1)})).on("pointerout",(function(){return t.play_button.setAlpha(.85)})),this.restart_button=this.add.sprite(this.sceneBG.x+.25*this.sceneBG.displayWidth,this.sceneBG.y,"restart").setScale(1.25).setAlpha(.65).setOrigin(.5).setInteractive().on("pointerdown",(function(){return t._toggleMenu("restart")}),this).on("pointerover",(function(){return t.restart_button.setAlpha(1)})).on("pointerout",(function(){return t.restart_button.setAlpha(.65)})),this.return_button=this.add.sprite(this.sceneBG.x-.25*this.sceneBG.displayWidth,this.sceneBG.y,"return").setScale(1.25).setAlpha(.65).setOrigin(.5).setInteractive().on("pointerdown",(function(){return t._toggleMenu("return")}),this).on("pointerover",(function(){return t.return_button.setAlpha(1)})).on("pointerout",(function(){return t.return_button.setAlpha(.65)}))}},{key:"_toggleMenu",value:function(t){var e=this,r=this.sceneBG.y<0?De.top+this.sceneBG.displayHeight/2:-1*Ce.height;this.tweens.add({targets:this.sceneBG,y:r,ease:"Linear",duration:750,onComplete:function(){switch(t){case"resume":e.scene.resume(c);break;case"restart":e.scene.start(c);break;case"return":e.scene.stop(c),e.scene.launch(s)}}}),this.tweens.add({targets:[this.play_button,this.restart_button,this.return_button],y:r+.06085*this.sceneBG.displayHeight,ease:"Linear",duration:750})}}])&&re(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(g);function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function se(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==ae(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===ae(o)?o:String(o)),n)}var o}function ce(){return ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=le(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ce.apply(this,arguments)}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ue(t,e)}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},le(t)}var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}(s,t);var e,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=le(n);if(o){var r=le(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i.call(this,u)}return e=s,(r=[{key:"init",value:function(){ce(le(s.prototype),"init",this).call(this),this.buttons={}}},{key:"create",value:function(){this._createBG(),this._createPlayer(),this._addReturnButton(),this._createSounds(),this._addAvailableMoney()}},{key:"createUpgradeAnimation",value:function(t,e){var r=this;this.sounds.upgrade.play({volume:.2});for(var n=10+e,o=function(){var o={x:r._player.x-.6*r._player.displayWidth+1.2*r._player.displayWidth/n*i,y:Phaser.Math.Between(100*(r._player.y-.5*r._player.displayHeight),100*(r._player.y+.5*r._player.displayHeight))/100,scale:.075*Ce.height*(Phaser.Math.Between(25+e,50+e)/100),alpha:Phaser.Math.Between(75,100)/100,duration:Phaser.Math.Between(750,1250)},a=r.add.text(o.x,o.y,"+",{font:"".concat(o.scale,"px ").concat(Ce.fonts[Ce.lang]),fill:"#".concat(Ce.upgradeColors[t])}).setOrigin(.5).setAlpha(o.alpha).setStroke("#fafafa33",4);r.tweens.add({targets:a,y:De.top,alpha:0,ease:"Linear",duration:o.duration,onComplete:function(){a.destroy()}})},i=0;i<n;i++)o()}},{key:"_addAvailableMoney",value:function(){var t={font:"".concat(.031*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#FFFFFF"},e=this.add.sprite(De.right-.075*Ce.height,De.top+.075*Ce.height,"ruby").setScale(.25);this._moneyText=this.add.text(e.x-e.displayWidth,e.y,Ce.money,t).setOrigin(.5).setAlpha(1)}},{key:"_createPlayer",value:function(){this._player=new Z({scene:this}),this.tweens.add({targets:this._player,x:.125*Ce.width,ease:"Linear",duration:1250,onComplete:this._createStats,callbackScope:this})}},{key:"_createStats",value:function(){var t=this;this.statsText={},this.statsIcon={},this.statsLevel={};for(var e={font:"".concat(.031*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#000000"},r=this.add.text(Ce.width/2,De.bottom-.075*Ce.height,"Every level increse your ability on +5%",e).setOrigin(.5).setAlpha(0),n=Object.keys(Ce.Weapons.fire),o=Ce.height/2.5,i=function(i){var a=n[i],s=1;"scale"===a&&(s=100);var c=(Math.round(Ce.Weapons.fire[a]*s)/s*s).toFixed(0),u=.57*Ce.width,l=Ce.height/2-o/2+o/n.length*i,f=localStorage.getItem("playerWeapon_".concat(a)),h="".concat(a.toUpperCase()," (").concat(Ce.weapons_units[a],"): ").concat(c),p="Lvl. "+f;t.statsText[a]=t.add.text(u,l,h,e).setOrigin(1,0).setAlpha(0),t.statsIcon[a]=t.add.sprite(u+.06*Ce.width,l,a).setOrigin(.5,.15).setAlpha(0).setDisplaySize(.045*Ce.width,.045*Ce.width),t.statsLevel[a]=t.add.text(u+.12*Ce.width,l,p,e).setOrigin(0,0).setAlpha(0),t.tweens.add({targets:[t.statsText[a],t.statsIcon[a],t.statsLevel[a]],delay:275*i,ease:"Linear",alpha:.75,duration:450,onComplete:function(){i>=n.length-1&&t.tweens.add({targets:r,delay:275,ease:"Linear",alpha:.75,duration:450})},callbackScope:t}),t._createUpgredeButton({x:u,y:l,key:a,level:f})},a=0;a<n.length;a++)i(a)}},{key:"_checkAvailability",value:function(t){this._checkPrice(t);var e=.9;Ce.money<t.cost&&(t.active=!1,e=.5),t.setAlpha(e),t.textCost.setAlpha(e),t.crystal.setAlpha(e)}},{key:"_checkPrice",value:function(t){t.cost=Math.floor(t.level/10)+1,t.textCost.text=t.cost}},{key:"_createUpgredeButton",value:function(t){this.buttons[t.key]=this.add.sprite(t.x+.3*Ce.width,t.y,"button_campaign").setOrigin(.5,.125).setScale(.33).setInteractive().on("pointerdown",this._upgarde),this.buttons[t.key].name=t.key,this.buttons[t.key].level=t.level,this.buttons[t.key].cost=Math.floor(this.buttons[t.key].level/10)+1;var e={font:"".concat(.023*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#FFFFFF"};this.buttons[t.key].textCost=this.add.text(this.buttons[t.key].x,this.buttons[t.key].y,"1",e).setOrigin(.5,-.125),this.buttons[t.key].crystal=this.add.sprite(this.buttons[t.key].x,this.buttons[t.key].y,"ruby").setOrigin(.5,.05).setScale(.15),this.buttons[t.key].textCost.x-=this.buttons[t.key].crystal.displayWidth/2,this.buttons[t.key].crystal.x+=this.buttons[t.key].crystal.displayWidth/2,this.buttons[t.key].clicked=!1,this._checkAvailability(this.buttons[t.key])}},{key:"_decreaseMoney",value:function(t){if(!Ce.money)return!1;Ce.money-=t,localStorage.setItem("money",Ce.money),this._moneyText.text=Ce.money}},{key:"_upgarde",value:function(){var t=this;if(!this._clicked&&this.active){var e=localStorage.getItem("playerWeapon_".concat(this.name));if(!1!==this.scene._decreaseMoney(this.cost)){localStorage.setItem("playerWeapon_".concat(this.name),++e),this.level=e;var r=Ge({init:!1,key:this.name}),n=1;"scale"===this.name&&(n=100),r=(Math.round(Ce.Weapons.fire[this.name]*n)/n*n).toFixed(0),this.scene.statsText[this.name].text="".concat(this.name.toUpperCase()," (").concat(Ce.weapons_units[this.name],"): ").concat(r),this.scene.statsLevel[this.name].text="Lvl. "+localStorage.getItem("playerWeapon_".concat(this.name)),this._clicked=!0,this.setAlpha(1),this.scene.tweens.add({targets:this,ease:"Linear",alpha:.5,duration:1e3,onComplete:function(){t._clicked=!1;for(var e=0;e<Object.keys(Ce.Weapons.fire).length;e++){var r=Object.keys(Ce.Weapons.fire)[e];t.scene._checkAvailability(t.scene.buttons[r])}}}),this.scene.createUpgradeAnimation(this.name,e)}}else this.active||this.scene.sounds.error.play({volume:.3})}},{key:"_addReturnButton",value:function(){var t=this;this.add.sprite(De.left+.015*Ce.width,De.top+.015*Ce.width,"return").setAlpha(.65).setInteractive().on("pointerdown",(function(){t.scene.start(a)}),this)}},{key:"_createSounds",value:function(){this.sounds||(this.sounds={wings:this.sound.add("wings"),upgrade:this.sound.add("upgrade"),error:this.sound.add("error")})}}])&&se(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(g);function he(t){return he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(t)}function pe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==he(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==he(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===he(o)?o:String(o)),n)}var o}var ye=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e,this._colors={},this._colors.r=210,this._colors.g=0,this._colors.b=25,this._style={boxColor:14934490,x:Ce.width/2-.5*Ce.width/2,y:Ce.height/2+.25*Ce.height,width:.5*Ce.width,height:.05*Ce.height},this._progressBox=this.scene.add.graphics(),this._progressBar=this.scene.add.graphics(),this._showProgressBox(),this._setEvents()}var e,r;return e=t,(r=[{key:"_setEvents",value:function(){var t=this;this.scene.load.on("progress",this._showProgressBar,this),this.scene.load.on("complete",(function(){return t.scene.scene.start(a)}),this)}},{key:"_showProgressBox",value:function(){this._progressBox.fillStyle(this._style.boxColor).fillRect(this._style.x,this._style.y,this._style.width,this._style.height)}},{key:"_showProgressBar",value:function(t){this._colors.r=210-200*t,this._colors.g=225*t,this._progressBar.clear().fillStyle(He(this._colors)).fillRect(this._style.x,this._style.y,this._style.width*t,this._style.height)}}])&&pe(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==de(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===de(o)?o:String(o)),n)}var o}function me(t,e){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},me(t,e)}function ge(t){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ge(t)}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&me(t,e)}(s,t);var e,r,n,o,a=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ge(n);if(o){var r=ge(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,i)}return e=s,(r=[{key:"preload",value:function(){this._createBG(),this._preloadResources(),this._preloadOther(),this._preloadDialogues(),new ye(this)}},{key:"_preloadOther",value:function(){this.load.plugin("rexvirtualjoystickplugin","./assets/plugins/rexvirtualjoystickplugin.min.js",!0)}},{key:"_preloadDialogues",value:function(){this.load.json("dialogues0","./assets/dialogues/".concat(Ce.lang,"/0.json"))}},{key:"_preloadResources",value:function(){var t=this;Ce.Levels.forEach((function(e){return t.load.image("bg".concat(e.level),"./assets/sprites/bg".concat(e.level,".png"))})),f.forEach((function(e){return t.load.atlas(e,"./assets/sprites/".concat(e,".png"),"./assets/sprites/".concat(e,".json"))})),h.forEach((function(e){return t.load.image(e,"./assets/sprites/".concat(e,".png"))})),p.forEach((function(e){return t.load.audio(e,"./assets/sounds/".concat(e,".mp3"))}))}}])&&ve(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(g);function we(t){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},we(t)}function _e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==we(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===we(o)?o:String(o)),n)}var o}function xe(){return xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Se(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},xe.apply(this,arguments)}function Oe(t,e){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oe(t,e)}function Se(t){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Se(t)}var ke,Pe,je,Ee,Le,Te,Be,Re,Ae,Fe,Ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oe(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Se(n);if(o){var r=Se(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===we(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,"Start")}return e=a,(r=[{key:"create",value:function(t){this._createBG(t),this._createStartText(),void 0!==t.score&&this._createStats(t)}},{key:"_createBG",value:function(t){var e=this;xe(Se(a.prototype),"_createBG",this).call(this),this._sceneBG.on("pointerdown",(function(){e.scene.start(c,t)}),this)}},{key:"_createStats",value:function(t){this.add.graphics().fillStyle("#000",.5).fillRoundedRect(Ce.width/2-.15*Ce.width,Ce.height/2-.25*Ce.height,.3*Ce.width,.5*Ce.height,.03*Ce.width);var e=t.completed?"Level completed!":"Game over",r="Score: ".concat(t.score),n={font:"".concat(.03*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#f0f0f0"};this.add.text(Ce.width/2,Ce.height/2-.125*Ce.height,e,n).setOrigin(.5),this.add.text(Ce.width/2,Ce.height/2+.125*Ce.height,r,n).setOrigin(.5)}},{key:"_createStartText",value:function(){this._startText=this.add.text(Ce.width/2,De.bottom-.05*Ce.height,"Tap to start",{font:"".concat(.04*Ce.width,"px ").concat(Ce.fonts[Ce.lang]),fill:"#f0f0f0"}).setOrigin(.5);var t=this._startText.scale,e=this.add.timeline({at:0,targets:this._startText,scale:t+.18,ease:"Power2",duration:550},{targets:this._startText,scale:t,ease:"Power2",duration:550});e.loop=-1,e.play()}}])&&_e(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(g),Ce={type:n.AUTO,width:1280,height:720,input:{activePointers:3},physics:{default:"arcade",arcade:{debug:!1}},backgroundColor:"#F3F3F3",orientation:n.Scale.LANDSCAPE,scale:{mode:n.Scale.ENVELOP,autoCenter:n.Scale.CENTER_BOTH,parent:"gameDiv",width:1280,height:720},scene:[j,be,Rt,te,Ie,Ot,ie,fe],lang:"",fonts:{eng:"DishOut",ukr:"Comfortaa-Regular"},currentLevelScene:null!==(ke=localStorage.getItem("currentLevelScene"))&&void 0!==ke?ke:1,currentLevelPlayer:null!==(Pe=localStorage.getItem("currentLevelPlayer"))&&void 0!==Pe?Pe:1,totalScore:null!==(je=localStorage.getItem("totalScore"))&&void 0!==je?je:0,money:null!==(Ee=localStorage.getItem("money"))&&void 0!==Ee?Ee:0,joystick:{radius:100,gap:35},level:{scoreCof:1.2,levelCof:1.3,score:500},Losses:{jet:null!==(Le=localStorage.getItem("losses_jet"))&&void 0!==Le?Le:0,helicopter:null!==(Te=localStorage.getItem("losses_helicopter"))&&void 0!==Te?Te:0,rocket:null!==(Be=localStorage.getItem("losses_rocket"))&&void 0!==Be?Be:0,missile:null!==(Re=localStorage.getItem("losses_missile"))&&void 0!==Re?Re:0},Player:{velocity:350,scale:.75},Enemies:{helicopter:{velocity:110,weapon:"rocket",textureNums:4,scale:.75},jet:{velocity:250,weapon:"missile",textureNums:4,scale:.76},strategic_jet:{velocity:200,weapon:"missile_2",textureNums:4,scale:.83}},Weapons:{fire:{reload:500,velocity:500,scale:.4},rocket:{reload:1750,velocity:-350,scale:.3},missile:{reload:2e3,velocity:-475,scale:.375},missile_2:{reload:2500,velocity:-800,scale:.4}},weapons_units:{reload:"ms",velocity:"m/s",scale:"%"},upgradeColors:{reload:"66E210",velocity:"FF2407",scale:"0291F7"},reward:{missile_2:750,strategic_jet:500,jet:375,helicopter:275,missile:150,rocket:100},Levels:[{level:1,name:"Kyiv Pechersk",x:485,y:175,enemies:5,enemiesDelay:2500,velocity:4},{level:2,name:"Odesa",x:506,y:490,enemies:8,enemiesDelay:2250,velocity:4},{level:3,name:"Kharkiv",x:758,y:179,enemies:11,enemiesDelay:2e3,velocity:4},{level:4,name:"Kyiv Podil",x:430,y:135,enemies:15,enemiesDelay:1850,velocity:4},{level:5,name:"Mariupol Azovstal",x:890,y:397,enemies:21,enemiesDelay:1700,velocity:4},{level:6,name:"Vinnitsia Tower",x:353,y:287,enemies:28,enemiesDelay:1550,velocity:4},{level:7,name:"Kyiv Voskresenka",x:435,y:195,enemies:39,enemiesDelay:1400,velocity:4},{level:8,name:"Lviv Plocha Runok",x:105,y:248,enemies:50,enemiesDelay:1300,velocity:4},{level:9,name:"Dnipro",x:720,y:311,enemies:65,enemiesDelay:1200,velocity:4},{level:10,name:"Genichesk",x:732,y:509,enemies:82,enemiesDelay:1100,velocity:4},{level:11,name:"Donetsk",x:874,y:333,enemies:100,enemiesDelay:1050,velocity:4},{level:12,name:"Zaporizha",x:735,y:366,enemies:120,enemiesDelay:1e3,velocity:4},{level:13,name:"Kahovska HPP",x:665,y:435,enemies:145,enemiesDelay:975,velocity:4},{level:14,name:"Sevastopol Balaklava",x:676,y:640,enemies:200,enemiesDelay:950,velocity:4},{level:15,name:"Luhansk",x:956,y:261,enemies:250,enemiesDelay:925,velocity:4}],unlim:{unlim:!0,level:14,enemies:9999,enemiesDelay:1500},firstTimePlay:null!==(Ae=localStorage.getItem("firstTimePlay"))&&void 0!==Ae?Ae:"1"},De=(new n.Game(Ce),{});function We(){document.body.clientWidth/document.body.clientHeight==16/9?(De.left=0,De.right=Ce.width,De.top=0,De.bottom=Ce.height):document.body.clientWidth>=document.body.clientHeight?document.body.clientWidth/document.body.clientHeight<16/9?(De.left=Ce.width/2-Ce.height/document.body.clientHeight*document.body.clientWidth/2,De.right=Ce.width/2+Ce.height/document.body.clientHeight*document.body.clientWidth/2,De.top=0,De.bottom=Ce.height):(De.left=0,De.right=Ce.width,De.top=(Ce.height-Ce.width/Ce.height/(document.body.clientWidth/document.body.clientHeight)*Ce.height)/2,De.bottom=Ce.height-(Ce.height-Ce.width/Ce.height/(document.body.clientWidth/document.body.clientHeight)*Ce.height)/2):(De.left=Ce.width/2-Ce.height/document.body.clientHeight*document.body.clientWidth/2,De.right=Ce.width/2+Ce.height/document.body.clientHeight*document.body.clientWidth/2,De.top=0,De.bottom=Ce.height)}function Ge(t){return"reload"===t.key?Ce.Weapons.fire[t.key]-=.05*Ce.Weapons.fire[t.key]:Ce.Weapons.fire[t.key]+=.05*Ce.Weapons.fire[t.key],Ce.Weapons.fire[t.key]}function Ne(t){Ce.lang=t,localStorage.setItem("lang",t)}function He(t){return"0x"+((1<<24)+(t.r<<16)+(t.g<<8)+t.b).toString(16).slice(1)}"0"!==localStorage.getItem("firstTimePlay")&&(Fe=Array(Ce.Levels.length).fill(0),localStorage.setItem("hiScores",Fe),localStorage.setItem("unlimHiScores",0),Object.keys(Ce.Losses).forEach((function(t){localStorage.setItem("losses_".concat(t),0)})),function(){for(var t=Object.keys(Ce.Weapons.fire),e=0;e<t.length;e++){var r=t[e];localStorage.setItem("playerWeapon_".concat(r),1)}}(),localStorage.setItem("currentLevelPlayer",Ce.currentLevelPlayer),localStorage.setItem("money",Ce.money)),function(){for(var t=Object.keys(Ce.Weapons.fire),e=0;e<t.length;e++)for(var r=t[e],n=localStorage.getItem("playerWeapon_".concat(r)),o=1;o<n;o++)"reload"===r?Ce.Weapons.fire[r]-=.05*Ce.Weapons.fire[r]:Ce.Weapons.fire[r]+=.05*Ce.Weapons.fire[r]}();var Me=function(t){return new Promise((function(e){return setTimeout(e,t)}))}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}n.m=e,t=[],n.O=(e,r,o,i)=>{if(!r){var a=1/0;for(l=0;l<t.length;l++){for(var[r,o,i]=t[l],s=!0,c=0;c<r.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((t=>n.O[t](r[c])))?r.splice(c--,1):(s=!1,i<a&&(a=i));if(s){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[r,o,i]},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={179:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,i,[a,s,c]=r,u=0;if(a.some((e=>0!==t[e]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var l=c(n)}for(e&&e(r);u<a.length;u++)i=a[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(l)},r=self.webpackChunkinvaiders_must_die=self.webpackChunkinvaiders_must_die||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var o=n.O(void 0,[426],(()=>n(247)));o=n.O(o)})();