/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e,t={314:(e,t,r)=>{r.d(t,{vc:()=>it,vq:()=>ct,nD:()=>ot,nU:()=>st,V1:()=>at});var n=r(260),i="Preload",o="Levels",s="Map",a="GameScene",c="Upgrade",l="update",u=["dragon","jet","strategic_jet","helicopter","boom"],h=["fire","flag","rocket","missile","missile_2","button_campaign","button_unlim","button_upgrade","map","battle","ruby","flag","frame","stamp","close","return","pause","pause_bg","restart","play","scale","reload","velocity","progressBar","progressBarFill"],f=["select","error","rocket_launch","fire_launch","missile_launch","missile_2_launch","explosion_small","wings","stamp","ready","died","win","upgrade","level_up","whoosh","whoosh_map","click","fire_effect"];function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===y(i)?i:String(i)),n)}var i}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(a,Phaser.Scene);var t,r,n,o,s=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(n);if(o){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s.call(this,"Boot")}return t=a,(r=[{key:"init",value:function(){st()}},{key:"preload",value:function(){this.load.image("bg","./assets/sprites/bg.png"),this.load.image("pervious_logo","./assets/sprites/pervious_logo.png")}},{key:"create",value:function(){var e=this;this._createBG(),this._pervious_logo=this.add.sprite(it.width/2,it.height/2,"pervious_logo").setAlpha(0);var t=this.cameras.main.width/this._pervious_logo.width,r=this.cameras.main.height/this._pervious_logo.height,n=Math.max(t,r);this._pervious_logo.setScale(n).setScrollFactor(0),this.tweens.add({delay:250,targets:this._pervious_logo,alpha:1,ease:"Linear",duration:1750,yoyo:!0,onComplete:function(){e.scene.start(i)}})}},{key:"_createBG",value:function(){this._sceneBG=this.add.sprite(it.width/2,it.height/2,"bg").setAlpha(.925).setOrigin(.5).setInteractive();var e=this.cameras.main.width/this._sceneBG.width,t=this.cameras.main.height/this._sceneBG.height,r=Math.max(e,t);this._sceneBG.setScale(r).setScrollFactor(0)}}])&&p(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==b(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===b(i)?i:String(i)),n)}var i}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(s,Phaser.GameObjects.Sprite);var t,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(n);if(i){var r=w(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e.scene,e.x,e.y,e.texture,e.frame)).init(e),t}return t=s,(r=[{key:"init",value:function(e){this.scene.add.existing(this),this.scene.physics.add.existing(this),this.body.enable=!0,this.velocity=e.velocity,this.reward=e.reward,this.move(),this.scene.events.on(l,this.update,this)}},{key:"reset",value:function(e,t){this.x=e,this.y=t,this.setAlive(!0)}},{key:"update",value:function(){this.active&&this.isDead()&&this.setAlive(!1)}},{key:"setAlive",value:function(e){this.body.enable=e,this.setVisible(e),this.setActive(e),this.timer&&(this.timer.paused=!e),e||(this.emit("killed"),this.launch_sound&&(this.launch_sound.stop(),this.launch_sound.stop()&&this.launch_sound.destroy()))}},{key:"isDead",value:function(){return!1}},{key:"move",value:function(){this.body.setVelocityX(this.velocity)}}])&&g(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===S(i)?i:String(i)),n)}var i}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,r,n,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(i);if(o){var r=P(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s.apply(this,arguments)}return t=a,n=[{key:"generate",value:function(e,t){return new a({scene:e,x:t.x+t.displayWidth/2*t.weapon.origin.x,y:t.y,texture:t.weapon.texture,velocity:t.weapon.velocity,scale:t.weapon.scale,reward:it.reward[t.weapon.texture]})}}],(r=[{key:"createSound",value:function(e){this.launch_sound=e.scene.sound.add("".concat(e.weapon.texture,"_launch")),this.launch_sound.play({volume:.35})}},{key:"move",value:function(){var e=this;"missile"===this.texture.key||"missile_2"===this.texture.key?(this.body.setVelocityY(250),this.body.setVelocityX(this.velocity/10),setTimeout((function(){e.body.setVelocityY(e.velocity/50),e.body.setVelocityX(e.velocity)}),175)):this.body.setVelocityX(this.velocity)}},{key:"reset",value:function(){return!1}},{key:"isDead",value:function(){return this.x>it.width+this.displayWidth||this.x<-this.displayWidth}}])&&x(t.prototype,r),n&&x(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(O);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==B(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===B(i)?i:String(i)),n)}var i}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(s,Phaser.Physics.Arcade.Group);var t,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(n);if(i){var r=L(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,e.physics.world,e)}return t=s,(r=[{key:"createFire",value:function(e){if(e.active){var t=j.generate(this.scene,e);t.setScale(e.weapon.scale),this.add(t),t.move(),this.createdCount++,t.createSound(e)}}}])&&E(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function D(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==A(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===A(i)?i:String(i)),n)}var i}function F(){return F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},F.apply(this,arguments)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var C="dragon",G="dragon1",M="fly",H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(s,e);var t,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(n);if(i){var r=I(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,{scene:e.scene,x:ot.left,y:it.height/2,texture:C,frame:G,velocity:it.Player.velocity,weapon:{texture:"fire",delay:it.Weapons.fire.reload,velocity:it.Weapons.fire.velocity,scale:it.Weapons.fire.scale,origin:{x:1,y:.5}}}))._createAnimation(),t.play(M),t}return t=s,(r=[{key:"_createAnimation",value:function(){if(!this.scene.anims.anims.entries[M]){var e=this.scene.anims.generateFrameNames(C,{prefix:C,start:1,end:6});this.scene.anims.create({key:M,frames:e,frameRate:8,repeat:-1}),this.play(M)}}},{key:"init",value:function(e){F(I(s.prototype),"init",this).call(this,e),this.scene.add.existing(this),this.scene.physics.add.existing(this),this.body.enable=!0,this.fires=new R(this.scene),this.weapon=e.weapon,this.scale=it.Player.scale,this.scene.events.on(l,this._updateFrame,this),this._lastFrame=G,this._tweenFly=null}},{key:"_updateFrame",value:function(){var e=this;if(this.active){if(this.frame.name!==this._lastFrame){var t=this.y;"dragon6"===this.frame.name?this.scene.constructor.name!==a&&(this._tweenFly=this.scene.tweens.add({targets:this,y:t+this.displayHeight/3,ease:"Linear",duration:350,onComplete:function(){return e._tweenFly=null}})):"dragon3"===this.frame.name&&(this.scene.constructor.name!==a&&(this._tweenFly=this.scene.tweens.add({targets:this,y:t-this.displayHeight/3,ease:"Linear",duration:350,onComplete:function(){return e._tweenFly=null}})),this.scene.sounds.wings.play({volume:.1}))}this._lastFrame=this.frame.name}}},{key:"shooting",value:function(){var e=this;!this.scene.cursors.space.isDown&&!this.scene.fireButton.active||this._firesActivate||(this.scene.fireButton.setAlpha(.95),this.fires.createFire(this),this._firesActivate=!0,this.scene.time.addEvent({delay:this.weapon.delay,callback:function(){e._firesActivate=!1,e.scene.fireButton.setAlpha(.65)},callbackScope:this}))}},{key:"move",value:function(){this.body.setVelocity(0),this.y<ot.top+this.displayHeight/1.5?this.y=ot.top+this.displayHeight/1.5:this.y>ot.bottom-this.displayHeight/1.5&&(this.y=ot.bottom-this.displayHeight/1.5),this.x<ot.left+this.displayWidth/1.5?this.x=ot.left+this.displayWidth/1.5:this.x>ot.right-this.displayWidth/1.5&&(this.x=ot.right-this.displayWidth/1.5),this.handling()}},{key:"handling",value:function(){var e,t=100,r=!1;for(var n in this.scene.cursorKeys)this.scene.cursorKeys[n].isDown&&(r=!0,(t=Math.floor(100*this.scene.joyStick.force)/100)>100&&(t=100));if(e=r?this.scene.cursorKeys:this.scene.cursors){if(e.left.isDown){if(this.x<this.x-this.velocity/it.fps)return;this.body.setVelocityX(-this.velocity*(t/100))}else if(e.right.isDown){if(this.x>this.x+this.velocity/it.fps)return;this.body.setVelocityX(this.velocity*(t/100))}if(e.up.isDown||e.down.isDown)if(this._tweenFly&&(this._tweenFly.paused=!0),e.up.isDown){if(this.y<this.y-this.velocity/it.fps)return;this.body.setVelocityY(-this.velocity*(t/100))}else if(e.down.isDown){if(this.y>this.y+this.velocity/it.fps)return;this.body.setVelocityY(this.velocity*(t/100))}}}}])&&D(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(O);function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==N(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===N(i)?i:String(i)),n)}var i}function K(){return K="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},K.apply(this,arguments)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(a,e);var t,r,n,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=q(i);if(o){var r=q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s.apply(this,arguments)}return t=a,n=[{key:"generateAttr",value:function(e){var t=ot.right+.25*it.width,r=Phaser.Math.Between(ot.top+e.maxEnemyFrameHeight/2,ot.bottom-e.maxEnemyFrameHeight/2),n=0;e.info.level>4&&(n=1,e.info.level>8&&(n=2));var i=Object.keys(it.Enemies)[Phaser.Math.Between(0,n)];return{x:t,y:r,enemyTexture:"enemy".concat(Phaser.Math.Between(1,it.Enemies[i].textureNums)),enemyType:i}}},{key:"generate",value:function(e,t){var r=a.generateAttr(e);return new a({scene:e,fires:t,x:r.x,y:r.y,enemyType:r.enemyType,texture:r.enemyType,frame:r.enemyTexture,velocity:-1*it.Enemies[r.enemyType].velocity})}}],(r=[{key:"init",value:function(e){K(q(a.prototype),"init",this).call(this,e),this._setInitialData(e),this._setWeapon(),this._addTimer()}},{key:"stopTimer",value:function(){this._firesActivate=!1}},{key:"reset",value:function(){var e=a.generateAttr(this.scene);K(q(a.prototype),"reset",this).call(this,e.x,e.y),this.setWeapon(),this.setFrame(e.frame)}},{key:"isDead",value:function(){return this.x<-this.displayWidth}},{key:"_addTimer",value:function(){this.timer=this.scene.time.addEvent({delay:it.Weapons[this.weapon.texture].reload*(.01*Phaser.Math.Between(70,130)),loop:!0,callback:this._shooting,callbackScope:this})}},{key:"_setInitialData",value:function(e){var t=e.enemyType,r=e.texture,n=e.fires;this._enemyType=t,this._firesActivate=!0,this.reward=it.reward[r],this.fires=n,this.scale=it.Enemies[t].scale}},{key:"_setWeapon",value:function(){this.weapon={texture:it.Enemies[this._enemyType].weapon,delay:it.Weapons[it.Enemies[this._enemyType].weapon].reload,velocity:it.Weapons[it.Enemies[this._enemyType].weapon].velocity,scale:it.Weapons[it.Enemies[this._enemyType].weapon].scale,origin:{x:-1,y:.5}}}},{key:"_shooting",value:function(){this._firesActivate&&this.fires.createFire(this)}}])&&V(t.prototype,r),n&&V(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(O);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Y(i)?i:String(i)),n)}var i}function z(e,t){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},z(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z(e,t)}(s,Phaser.Physics.Arcade.Group);var t,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Q(n);if(i){var r=Q(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e.physics.world,e)).scene=e,t.fires=new R(t.scene),t.countMax=t.scene.info.enemies,t.killed=0,t.createdCount=0,t.timer=t.scene.time.addEvent({delay:t.scene.info.enemiesDelay,loop:!0,callback:t.tick,callbackScope:Z(t)}),t}return t=s,(r=[{key:"tick",value:function(){this.scene.time.addEvent({delay:this.scene.info.enemiesDelay*(.01*Phaser.Math.Between(50,150)),callback:this.createEnemy,callbackScope:this})}},{key:"stopTimer",value:function(){this.timer.remove()}},{key:"createEnemy",value:function(){if(this.countMax>this.createdCount){var e=X.generate(this.scene,this.fires);e.on("killed",this.onEnemyKilled,this),this.add(e),e.move(),this.createdCount++}else this.timer.remove()}},{key:"onEnemyKilled",value:function(){this.killed++,this.killed>=this.countMax&&this.scene.events.emit("enemies-killed")}}])&&J(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}();function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==ee(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ee(i)?i:String(i)),n)}var i}function re(e,t){return re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},re(e,t)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}var oe="explosion",se="boom",ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&re(e,t)}(a,Phaser.GameObjects.Sprite);var t,r,n,i,o,s=(i=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ie(i);if(o){var r=ie(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,e.scene,e.x,e.y)).scene.add.existing(ne(t)),t.scene.physics.add.existing(ne(t)),t.body.enable=!0,t._createAnimation(),t.play(oe),t.once(Phaser.Animations.Events.ANIMATION_COMPLETE,(function(){t.destroy()})),t}return t=a,n=[{key:"generate",value:function(e,t,r){return new a({scene:e,x:t,y:r})}}],(r=[{key:"_createAnimation",value:function(){if(!this.scene.anims.anims.entries[oe]){var e=this.scene.anims.generateFrameNames(se,{prefix:se,start:1,end:7});this.scene.anims.create({key:oe,frames:e,frameRate:8,repeat:0})}}}])&&te(t.prototype,r),n&&te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}();function ce(e){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ce(e)}function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ce(i)?i:String(i)),n)}var i}function ue(e,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ue(e,t)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}(l,Phaser.Scene);var t,r,n,i,c=(n=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=he(n);if(i){var r=he(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c.call(this,a)}return t=l,(r=[{key:"init",value:function(e){"0"!==localStorage.getItem("firstTimePlay")&&localStorage.setItem("firstTimePlay","0"),this.info=e,this._currentLevelScene=this.info.level,this._currentScore=0,this._black_bg=null}},{key:"create",value:function(e){var t;this.cursors=this.input.keyboard.createCursorKeys(),this._createBG(e),this._getMaxEnemyHeightFrame(),this._createPlayer(),this._createEnemies(),this._createCompleteEvents(),this._addOverlap(),this._createScoreText(),this._createSounds(),this._addPauseButton(),this._addMobileButtons(),this._addJoystick(),this._addFireButton(),null!==(t=this.info)&&void 0!==t&&t.unlim||this._addProgressBar()}},{key:"update",value:function(){this._sceneBG.tilePositionX+=this._sceneBG.width/1e4*this.speed,this._dumpJoyStickState(),this._player.move(),this._player.shooting()}},{key:"_addMobileButtons",value:function(){document.body.clientWidth>1280||(this._addJoystick(),this._addFireButton())}},{key:"_addJoystick",value:function(){this.joyStick=this.plugins.get("rexvirtualjoystickplugin").add(this,{x:ot.left+it.joystick.radius+it.joystick.gap,y:ot.bottom-it.joystick.radius-it.joystick.gap,radius:it.joystick.radius,base:this.add.circle(0,0,it.joystick.radius).setStrokeStyle(3.5,1729964).setAlpha(.75),thumb:this.add.circle(0,0,it.joystick.radius/2,13421772).setAlpha(.5),dir:"8dir"})}},{key:"_dumpJoyStickState",value:function(){this.joyStick&&(this.cursorKeys=this.joyStick.createCursorKeys())}},{key:"_addFireButton",value:function(){var e=this;this.fireButton=this.add.sprite(ot.right-it.joystick.radius-it.joystick.gap,this.joyStick.y,"fire").setAlpha(.65).setInteractive().setActive(!1).on("pointerup",(function(){e.fireButton.active=!1}),this).on("pointerdown",(function(){e.fireButton.active=!0,e._player.shooting()}),this)}},{key:"_createBG",value:function(e){var t=null!=e&&e.unlim?"bg".concat(Phaser.Math.Between(1,it.Levels.length)):"bg".concat(e.level),r=this.textures.list[t].source[0].height,n=it.height/r;this.speed=it.Levels[this._currentLevelScene-1].velocity,1!==n&&(this.speed/=n),this._sceneBG=this.add.tileSprite(0,0,it.width,it.height,t).setOrigin(0).setScale(n).setAlpha(.65)}},{key:"_createScoreText",value:function(){var e;this.hiScoreText&&this.hiScoreText.destroy(),this.scoreText=this.add.text(ot.right-.01*it.width,ot.top+.01*it.width,this._currentScore,{font:"".concat(.03*it.width,"px DishOut"),fill:"#EA0000"}).setOrigin(1,0).setAlpha(.75),null!==(e=this.info)&&void 0!==e&&e.unlim&&(this.hiScoreText=this.add.text(it.width/2,ot.top+.01*it.width,"High score: "+localStorage.getItem("unlimHiScores"),{font:"".concat(.03*it.width,"px DishOut"),fill:"#EA0000"}).setOrigin(.5,0).setAlpha(.75))}},{key:"_createPlayer",value:function(){this._player=new H({scene:this})}},{key:"_createEnemies",value:function(){this._enemies=new $(this)}},{key:"_createSounds",value:function(){this.sounds||(this.sounds={rocket_launch:this.sound.add("rocket_launch"),fire_launch:this.sound.add("fire_launch"),missile_launch:this.sound.add("missile_launch"),explosion_small:this.sound.add("explosion_small"),wings:this.sound.add("wings"),died:this.sound.add("died"),win:this.sound.add("win"),level_up:this.sound.add("level_up")})}},{key:"_addOverlap",value:function(){this.physics.add.overlap(this._player.fires,this._enemies,this._onOverlap,void 0,this),this.physics.add.overlap(this._enemies.fires,this._player,this._onOverlap,void 0,this),this.physics.add.overlap(this._player.fires,this._enemies.fires,this._onOverlap,void 0,this),this.physics.add.overlap(this._player,this._enemies,this._onOverlap,void 0,this)}},{key:"_onOverlap",value:function(e,t){if(!(t.x>it.width+t.displayWidth/2)){if(e!==this._player&&t!==this._player){var r,n;if(null===(r=this.info)||void 0===r||!r.unlim){var i=t.texture.key;"strategic_jet"===t.texture.key?i="jet":"missile_2"===t.texture.key&&(i="missile");var o=Number(localStorage.getItem("losses_".concat(i)));localStorage.setItem("losses_".concat(i),++o)}var s=Number((t.reward*Math.pow(it.level.scoreCof,this._currentLevelScene-1)).toFixed(0));if(this._currentScore+=s,null===(n=this.info)||void 0===n||!n.unlim){var a=Number(it.totalScore);localStorage.setItem("totalScore",a+s),it.totalScore=a+s}this.scoreText.text=this._currentScore,this._updateProgressBar()}ae.generate(this,t.x,t.y),e.setAlive(!1),t.setAlive(!1),this.sounds.explosion_small.play()}}},{key:"_createCompleteEvents",value:function(){this._player.emit("killed"),this._player.once("killed",this._onComplete,this),this.events.once("enemies-killed",this._onComplete,this)}},{key:"_onComplete",value:function(){var e=this;if(!this._black_bg){this._black_bg=this.add.rectangle(it.width/2,it.height/2,it.width,it.height,"0x000000",0).setInteractive().setDepth(9999999);var t=this.add.text(this._black_bg.x,this._black_bg.y,"",{font:"".concat(.03*it.width,"px DishOut"),fill:"#EA0000"}).setOrigin(.5).setAlpha(0).setDepth(this._black_bg.depth);if(this.game.sound.stopAll(),this._player.active){if(this.sounds.win.play(),t.text="GLORY TO UKRAINE!",this.info.hiScore<this._currentScore){var r=localStorage.getItem("hiScores").split(",");r[this._currentLevelScene-1]=this._currentScore,localStorage.setItem("hiScores",r.join())}it.currentLevelScene<=this._currentLevelScene&&(it.currentLevelScene++,localStorage.setItem("currentLevelScene",it.currentLevelScene))}else t.text="HEROES DON'T DIE!",this.sounds.died.play(),this.info.unlim&&localStorage.getItem("unlimHiScores")<this._currentScore&&localStorage.setItem("unlimHiScores",this._currentScore);this.tweens.add({targets:[this._black_bg,t],fillAlpha:1,alpha:1,scale:2*t.scale,ease:"Linear",duration:1e3*this.sounds.died.duration*.75,onComplete:function(){e.info.unlim?e.scene.start(o):e.scene.start(s),e.scene.stop()}}),this._enemies.stopTimer(),this._enemies.children.entries.forEach((function(e){e.stopTimer()}))}}},{key:"_addPauseButton",value:function(){var e=this;this.add.sprite(ot.left+.015*it.width,ot.top+.015*it.width,"pause").setAlpha(.65).setInteractive().on("pointerdown",(function(){e.scene.launch("Pause"),e.scene.pause()}),this)}},{key:"_addProgressBar",value:function(){this._progressBar=this.add.sprite(it.width/2,ot.top+.0225*it.width,"progressBar").setAlpha(.95),this._progressBar.fillProgress=this.add.sprite(this._progressBar.x+.1*this._progressBar.displayWidth,this._progressBar.y+.04*this._progressBar.displayHeight,"progressBarFill").setAlpha(.95),this._progressBar.levelText=this.add.text(this._progressBar.x-.38*this._progressBar.displayWidth,this._progressBar.y-.035*this._progressBar.displayHeight,it.currentLevelPlayer,{font:"".concat(.545*this._progressBar.displayHeight,"px DishOut"),fill:"#FFFFFF"}).setOrigin(.5).setAlpha(.75),this._updateProgressBar()}},{key:"_updateProgressBar",value:function(){var e;if(null===(e=this.info)||void 0===e||!e.unlim){var t={start:this._getRequiredScoreOnLevel(it.currentLevelPlayer-1),end:this._getRequiredScoreOnLevel(it.currentLevelPlayer),diff:this._getRequiredScoreOnLevel(it.currentLevelPlayer)-this._getRequiredScoreOnLevel(it.currentLevelPlayer-1)},r=(it.totalScore-t.start)/t.diff;it.currentLevelPlayer<2&&(r=it.totalScore/t.diff),r>=1&&(this._increaseLevel(),t={start:this._getRequiredScoreOnLevel(it.currentLevelPlayer-1),end:this._getRequiredScoreOnLevel(it.currentLevelPlayer),diff:this._getRequiredScoreOnLevel(it.currentLevelPlayer)-this._getRequiredScoreOnLevel(it.currentLevelPlayer-1)},r=1- -1*(it.totalScore-t.end)/t.diff),this._progressBar.fillProgress.frame.cutWidth=this._progressBar.fillProgress.displayWidth*r,this._progressBar.fillProgress.frame.updateUVs(),this._progressBar.text=it.currentLevelPlayer}}},{key:"_increaseLevel",value:function(){var e=this;this.sounds.level_up.play({volume:.5}),it.currentLevelPlayer++,localStorage.setItem("currentLevelPlayer",it.currentLevelPlayer);var t=this.add.text(it.width/2,it.height/2,it.currentLevelPlayer,{font:"".concat(.25*it.width,"px DishOut"),fill:"#FFFFFF"}).setOrigin(.5).setAlpha(0);this.tweens.add({targets:t,alpha:1,x:this._progressBar.levelText.x,y:this._progressBar.levelText.y,scale:this._progressBar.levelText.displayWidth/t.displayWidth,ease:"Linear",duration:500,onComplete:function(){t.destroy(),e._progressBar.levelText.text=it.currentLevelPlayer}}),this._increaseMoney()}},{key:"_getRequiredScoreOnLevel",value:function(e){for(var t=0,r=0;r<e;r++)t+=Number((it.level.score*Math.pow(it.level.levelCof,r)).toFixed(0));return t}},{key:"_increaseMoney",value:function(){++it.money,localStorage.setItem("money",it.money)}},{key:"_getMaxEnemyHeightFrame",value:function(){var e=0,t=this.textures.list.helicopter.frames;Object.keys(t).forEach((function(r){t[r].cutHeight>e&&(e=t[r].height)})),this.maxEnemyFrameHeight=e}}])&&le(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}();function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==ye(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ye(i)?i:String(i)),n)}var i}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(u,Phaser.Scene);var t,r,n,i,l=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ve(n);if(i){var r=ve(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),l.call(this,o)}return t=u,(r=[{key:"init",value:function(){this._buttons={},this._buttons_num=0}},{key:"create",value:function(){this._createBG(),this._createSounds(),this._createButton("campaign",.275),this._createButton("unlim",.5),this._createButton("upgrade",.725)}},{key:"_createBG",value:function(){var e=this.add.sprite(it.width/2,it.height/2,"bg").setAlpha(.925).setOrigin(.5).setInteractive(),t=this.cameras.main.width/e.width,r=this.cameras.main.height/e.height,n=Math.max(t,r);e.setScale(n).setScrollFactor(0)}},{key:"_addButtonEventListeners",value:function(e){var t=this;e.on("pointerover",(function(){return e.setAlpha(1)})),e.on("pointerout",(function(){return e.setAlpha(.75)})),e.on("pointerdown",(function(){return t._gameSelect(e)}))}},{key:"_createButton",value:function(e,t){this._buttons_num++,this._createButtonSprite(e,t),this._createButtonText(this._buttons[e],e),this._createButtonTweens(this._buttons[e]),this._addButtonEventListeners(this._buttons[e])}},{key:"_createButtonText",value:function(e,t){var r=t.toUpperCase(),n={font:"".concat(.03*it.width,"px DishOut"),fill:"#f0f0f0"};e.buttonText=this.add.text(e.x,e.y,r,n).setScale(3).setOrigin(.5).setAlpha(0)}},{key:"_createButtonSprite",value:function(e,t){this._buttons[e]=this.add.sprite(it.width/2,it.height*t,"button_"+e).setScale(5).setAlpha(0).setOrigin(.5).setInteractive(),this._buttons[e].name=e}},{key:"_createButtonTweens",value:function(e){var t=this;this.tweens.add({targets:e,delay:375*this._buttons_num,alpha:.675,scale:.65,ease:"Linear",duration:225,onStart:function(){return t.sounds.whoosh.play({volume:.33})}}),this.tweens.add({targets:e.buttonText,delay:375*this._buttons_num,alpha:.9,scale:1,ease:"Linear",duration:225})}},{key:"_gameSelect",value:function(e){var t=this;this.sounds.click.play({volume:.2}),this.tweens.add({targets:[e,e.buttonText],alpha:0,scale:7,ease:"Linear",duration:750,onComplete:function(){return t._startNewScene(e.name)}})}},{key:"_startNewScene",value:function(e){switch(e){case"campaign":this.scene.start(s);break;case"unlim":this.scene.start(a,it.unlim);break;case"upgrade":this.scene.start(c)}}},{key:"_createSounds",value:function(){this.sounds||(this.sounds={click:this.sound.add("click"),whoosh:this.sound.add("whoosh")})}}])&&pe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}();function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function ge(){ge=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,s=Object.create(o.prototype),a=new T(n||[]);return i(s,"_invoke",{value:P(e,r,a)}),s}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",y="suspendedYield",p="executing",d="completed",v={};function m(){}function b(){}function g(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(L([])));O&&O!==r&&n.call(O,s)&&(_=O);var S=g.prototype=m.prototype=Object.create(_);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==be(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function P(t,r,n){var i=f;return function(o,s){if(i===p)throw new Error("Generator is already running");if(i===d){if("throw"===o)throw s;return{value:e,done:!0}}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var c=j(a,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var l=h(t,r,n);if("normal"===l.type){if(i=n.done?d:y,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=d,n.method="throw",n.arg=l.arg)}}}function j(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var s=o.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function L(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(be(t)+" is not iterable")}return b.prototype=g,i(S,"constructor",{value:g,configurable:!0}),i(g,"constructor",{value:b,configurable:!0}),b.displayName=l(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},x(k.prototype),l(k.prototype,a,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var s=new k(u(e,r,n,i),o);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(S),l(S,c,"Generator"),l(S,s,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return a.type="throw",a.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:L(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function _e(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==be(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===be(i)?i:String(i)),n)}var i}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oe(e,t)}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}(f,Phaser.Scene);var t,r,n,i,l,u,h=(l=f,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Se(l);if(u){var r=Se(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),h.call(this,s)}return t=f,r=[{key:"init",value:function(){this._mapDots=[]}},{key:"create",value:function(){this._createSounds(),this._createBG(),this._createMap(),this._createMissions(),this._createLosses(),this._createReturnButton(),this._addAvailableMoney()}},{key:"_createBG",value:function(){this._sceneBG=this.add.sprite(it.width/2,it.height/2,"bg").setAlpha(.925).setOrigin(.5).setInteractive();var e=this.cameras.main.width/this._sceneBG.width,t=this.cameras.main.height/this._sceneBG.height,r=Math.max(e,t);this._sceneBG.setScale(r).setScrollFactor(0)}},{key:"_createMap",value:function(){this._map=this.add.sprite(it.width/2,it.height/2,"map").setAlpha(.65).setOrigin(.5).setScale(1.25)}},{key:"_createMissions",value:function(){var e=this,t=[];it.Levels.forEach((function(r,n){t.push({at:100*n,run:function(){return e._createDot(r)}})})),this.add.timeline(t).play()}},{key:"_createDot",value:(n=ge().mark((function e(t){var r,n,i,o,s=this;return ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(it.width-this._map.displayWidth)/2+t.x/1e3*this._map.displayWidth,n=(it.height-this._map.displayHeight)/2+t.y/1e3*this._map.displayWidth,(i=this.add.sprite(r,n,"battle").setAlpha(0).setScale(6).setOrigin(.5).setInteractive().on("pointerdown",this.selectLevel)).info=t,i.isCurrent=!1,o={alpha:1,scale:1},t.level>it.currentLevelScene?(i.on("pointerdown",(function(){s.sounds.error.play({volume:.33})})),i.active=!1,o.alpha=2/3,o.scale=2/3):(i.setAlpha(1).on("pointerdown",(function(){s.sounds.select.play({volume:.33})})),i.active=!0,it.currentLevelScene>t.level?i.setTexture("flag").setOrigin(0,1):i.isCurrent=!0),this._createDotTween(i,o),this._mapDots.push(i);case 9:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function s(e){_e(o,r,i,s,a,"next",e)}function a(e){_e(o,r,i,s,a,"throw",e)}s(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"_createDotTween",value:function(e,t){var r=this;this.tweens.add({targets:e,alpha:t.alpha,scale:t.scale,ease:"easeInCirc",duration:250,onStart:function(){return r.sounds.whoosh_map.play({volume:.2})},onComplete:function(){e.isCurrent&&r._addDotAnim(e)}})}},{key:"_addDotAnim",value:function(e){e.setScale(1),this.tweens.add({targets:e,scale:1.5,duration:425,yoyo:!0,repeat:-1}),this.sounds.fire_effect.play({volume:.1})}},{key:"selectLevel",value:function(){this.active&&this.scene.createLevelCard(this.info)}},{key:"createLevelCard",value:function(e){var t=this,r=this.add.rectangle(it.width/2,it.height/2,it.width,it.height,"0x000000",0).setInteractive(),n=localStorage.getItem("hiScores").split(",")[e.level-1];e.hiScore=n;var i=this.add.sprite(it.width/2,it.height/2,"frame");i.displayHeight=.795*it.height;var o=[];o.push(this.add.text(i.x,i.y-i.displayHeight/2+.086*i.displayHeight,"MISSION",{font:"".concat(.13*i.displayWidth,"px DishOut"),fill:"#0a0a0a"}).setOrigin(.5).setAlpha(.55)),o.push(this.add.text(i.x,i.y-i.displayHeight/2+.25*i.displayHeight,"Level ".concat(e.level),{font:"".concat(.0925*i.displayWidth,"px DishOut"),fill:"#0a0a0a"}).setOrigin(.5).setAlpha(.8)),o.push(this.add.text(i.x,i.y-i.displayHeight/2+.37*i.displayHeight,"City",{font:"".concat(.055*i.displayWidth,"px DishOut"),fill:"#0a0a0a"}).setOrigin(.5).setAlpha(.8)),o.push(this.add.text(i.x,i.y-i.displayHeight/2+.44*i.displayHeight,e.name,{font:"".concat(.06175*i.displayWidth,"px DishOut"),fill:"#0a0a0a"}).setOrigin(.5).setAlpha(.8)),n>0&&o.push(this.add.text(i.x,i.y-i.displayHeight/2+.58*i.displayHeight,"Hi score: ".concat(n),{font:"".concat(.049*i.displayWidth,"px DishOut"),fill:"#E2B80D"}).setOrigin(.5).setAlpha(.8)),o.push(this.add.text(i.x,i.y-i.displayHeight/2+.71*i.displayHeight,"Enemies - ".concat(e.enemies),{font:"".concat(.051*i.displayWidth,"px DishOut"),fill:"#EA0000"}).setOrigin(.5).setAlpha(.8)),this.sounds.stamp.play();var s=this.add.sprite(i.x,i.y,"stamp").setAlpha(0).setAngle(31).setScale(2.5),a=i.x+i.displayWidth/2-i.displayWidth*Phaser.Math.Between(25,35)/100,c=i.y+i.displayWidth/2-i.displayHeight*Phaser.Math.Between(26,30)/100;this.add.timeline([{tween:{targets:s,scale:.26,x:a,y:c,alpha:.85,ease:"Power3",duration:365}},{at:365,tween:{targets:s,scale:.305,alpha:.55,ease:"Power2",duration:273.75}},{at:638.75,run:function(){var n=t.add.text(i.x,i.y+i.displayHeight/2-.09*i.displayHeight,"START",{font:"".concat(.105*i.displayWidth,"px DishOut"),fill:"#51E04A"}).setOrigin(.5).setAlpha(.7).setInteractive().on("pointerdown",(function(){t._gameStart(e),t.sounds.fire_effect.stop()})).on("pointerover",(function(){n.setAlpha(.9)})).on("pointerout",(function(){n.setAlpha(.7)}));o.push(n);var a=t.add.sprite(i.x+i.displayWidth/2,i.y-i.displayHeight/2,"close").setOrigin(1.3,-.35).setAlpha(.7).setInteractive().on("pointerdown",(function(){t._cardClose({bg_rect:r,frame:i,texts:o,stamp:s,close_button:a})})).on("pointerover",(function(){a.setAlpha(.9)})).on("pointerout",(function(){a.setAlpha(.7)}))}}]).play()}},{key:"_cardClose",value:function(e){this.sounds.click.play({volume:.2}),e.bg_rect.destroy(),e.frame.destroy(),e.stamp.destroy(),e.close_button.destroy(),e.texts.forEach((function(e){e.destroy()}))}},{key:"_gameStart",value:function(e){var t=this;this.sounds.ready.play();var r=this.add.rectangle(it.width/2,it.height/2,it.width,it.height,"0x000000",0).setInteractive();this.tweens.add({targets:r,fillAlpha:1,ease:"Linear",duration:1e3*this.sounds.ready.duration*.7,onComplete:function(){return t.scene.start(a,e)}})}},{key:"_createLosses",value:function(){var e=this;this.losses_text&&this.losses_text.forEach((function(e){e.destroy()}));var t={x:ot.left+.033*it.width,y:.635*it.height};this.losses_text=[],this.losses_text.push(this.add.text(t.x,t.y,"Total russian losses:",{font:"".concat(.025*it.width,"px DishOut"),fill:"#EA0000"}).setOrigin(0,.5).setAlpha(.75)),Object.keys(it.Losses).forEach((function(r){t.y+=.0285*it.width,e.losses_text.push(e.add.text(t.x,t.y,"".concat(r,"s: ").concat(localStorage.getItem("losses_".concat(r))),{font:"".concat(.0215*it.width,"px DishOut"),fill:"#000000"}).setOrigin(0,.5).setAlpha(.75))}))}},{key:"_createReturnButton",value:function(){var e=this;this.add.sprite(ot.left+.015*it.width,ot.top+.015*it.width,"return").setAlpha(.65).setInteractive().on("pointerdown",(function(){e.scene.start(o),e.sounds.click.play({volume:.2})}))}},{key:"_addAvailableMoney",value:function(){var e=this,t={font:"".concat(.031*it.width,"px DishOut"),fill:"#FFFFFF"};this.moneyIcon=this.add.sprite(ot.right-.075*it.height,ot.top+.075*it.height,"ruby").setScale(.25).setInteractive().on("pointerdown",(function(){return e.scene.start(c)})),this.moneyText=this.add.text(this.moneyIcon.x-this.moneyIcon.displayWidth,this.moneyIcon.y,it.money,t).setOrigin(.5).setAlpha(1)}},{key:"_createSounds",value:function(){this.sounds||(this.sounds={click:this.sound.add("click"),select:this.sound.add("select"),error:this.sound.add("error"),stamp:this.sound.add("stamp"),ready:this.sound.add("ready"),whoosh_map:this.sound.add("whoosh_map"),fire_effect:this.sound.add("fire_effect")})}}],r&&we(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),f}();function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==ke(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===ke(i)?i:String(i)),n)}var i}function je(e,t){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},je(e,t)}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}(c,Phaser.Scene);var t,r,n,i,o=(n=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Be(n);if(i){var r=Be(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function c(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),o.call(this,"Pause")}return t=c,(r=[{key:"init",value:function(){this.game.sound.stopAll()}},{key:"create",value:function(){this._createBG(),this._createButtons(),this._toggleMenu()}},{key:"_createBG",value:function(){this.black_bg=this.add.rectangle(it.width/2,it.height/2,it.width,it.height,"0x000000",0),this.sceneBG=this.add.sprite(it.width/2,-1*it.height,"pause_bg").setOrigin(.5),this.tweens.add({targets:this.sceneBG,y:it.height/2,ease:"Linear",duration:750})}},{key:"_createButtons",value:function(){var e=this;this.play_button=this.add.sprite(this.sceneBG.x,this.sceneBG.y,"play").setScale(.8).setAlpha(.85).setOrigin(.5).setInteractive().on("pointerdown",(function(){return e._toggleMenu("resume")}),this).on("pointerover",(function(){return e.play_button.setAlpha(1)})).on("pointerout",(function(){return e.play_button.setAlpha(.85)})),this.restart_button=this.add.sprite(this.sceneBG.x+.25*this.sceneBG.displayWidth,this.sceneBG.y,"restart").setScale(1.25).setAlpha(.65).setOrigin(.5).setInteractive().on("pointerdown",(function(){return e._toggleMenu("restart")}),this).on("pointerover",(function(){return e.restart_button.setAlpha(1)})).on("pointerout",(function(){return e.restart_button.setAlpha(.65)})),this.return_button=this.add.sprite(this.sceneBG.x-.25*this.sceneBG.displayWidth,this.sceneBG.y,"return").setScale(1.25).setAlpha(.65).setOrigin(.5).setInteractive().on("pointerdown",(function(){return e._toggleMenu("return")}),this).on("pointerover",(function(){return e.return_button.setAlpha(1)})).on("pointerout",(function(){return e.return_button.setAlpha(.65)}))}},{key:"_toggleMenu",value:function(e){var t=this,r=this.sceneBG.y<0?ot.top+this.sceneBG.displayHeight/2:-1*it.height;this.tweens.add({targets:this.sceneBG,y:r,ease:"Linear",duration:750,onComplete:function(){switch(e){case"resume":t.scene.resume(a);break;case"restart":t.scene.start(a);break;case"return":t.scene.stop(a),t.scene.launch(s)}}}),this.tweens.add({targets:[this.play_button,this.restart_button,this.return_button],y:r+.06085*this.sceneBG.displayHeight,ease:"Linear",duration:750})}}])&&Pe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}();function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Te(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Te(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Te(i)?i:String(i)),n)}var i}function Re(e,t){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Re(e,t)}function Ae(e){return Ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ae(e)}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}(a,Phaser.Scene);var t,r,n,i,s=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ae(n);if(i){var r=Ae(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s.call(this,c)}return t=a,(r=[{key:"init",value:function(){this.buttons={}}},{key:"create",value:function(){this._createBG(),this._createPlayer(),this._addReturnButton(),this._createSounds(),this._addAvailableMoney()}},{key:"_createBG",value:function(){var e=this.add.sprite(it.width/2,it.height/2,"bg").setAlpha(.925).setOrigin(.5),t=this.cameras.main.width/e.width,r=this.cameras.main.height/e.height,n=Math.max(t,r);e.setScale(n).setScrollFactor(0)}},{key:"createUpgradeAnimation",value:function(e,t){var r=this;this.sounds.upgrade.play({volume:.2});for(var n=10+t,i=function(){var i={x:r._player.x-.6*r._player.displayWidth+1.2*r._player.displayWidth/n*o,y:Phaser.Math.Between(100*(r._player.y-.5*r._player.displayHeight),100*(r._player.y+.5*r._player.displayHeight))/100,scale:.075*it.height*(Phaser.Math.Between(25+t,50+t)/100),alpha:Phaser.Math.Between(75,100)/100,duration:Phaser.Math.Between(750,1250)},s=r.add.text(i.x,i.y,"+",{font:"".concat(i.scale,"px DishOut"),fill:"#".concat(it.upgradeColors[e])}).setOrigin(.5).setAlpha(i.alpha).setStroke("#fafafa33",4);r.tweens.add({targets:s,y:ot.top,alpha:0,ease:"Linear",duration:i.duration,onComplete:function(){s.destroy()}})},o=0;o<n;o++)i()}},{key:"_addAvailableMoney",value:function(){var e={font:"".concat(.031*it.width,"px DishOut"),fill:"#FFFFFF"},t=this.add.sprite(ot.right-.075*it.height,ot.top+.075*it.height,"ruby").setScale(.25);this._moneyText=this.add.text(t.x-t.displayWidth,t.y,it.money,e).setOrigin(.5).setAlpha(1)}},{key:"_createPlayer",value:function(){this._player=new H({scene:this}),this.tweens.add({targets:this._player,x:.125*it.width,ease:"Linear",duration:1250,onComplete:this._createStats,callbackScope:this})}},{key:"_createStats",value:function(){var e=this;this.statsText={},this.statsIcon={},this.statsLevel={};for(var t={font:"".concat(.031*it.width,"px DishOut"),fill:"#000000"},r=this.add.text(it.width/2,ot.bottom-.075*it.height,"Every level increse your ability on +5%",t).setOrigin(.5).setAlpha(0),n=Object.keys(it.Weapons.fire),i=it.height/2.5,o=function(o){var s=n[o],a=1;"scale"===s&&(a=100);var c=(Math.round(it.Weapons.fire[s]*a)/a*a).toFixed(0),l=.57*it.width,u=it.height/2-i/2+i/n.length*o,h=localStorage.getItem("playerWeapon_".concat(s)),f="".concat(s.toUpperCase()," (").concat(it.weapons_units[s],"): ").concat(c),y="Lvl. "+h;e.statsText[s]=e.add.text(l,u,f,t).setOrigin(1,0).setAlpha(0),e.statsIcon[s]=e.add.sprite(l+.06*it.width,u,s).setOrigin(.5,.15).setAlpha(0).setDisplaySize(.045*it.width,.045*it.width),e.statsLevel[s]=e.add.text(l+.12*it.width,u,y,t).setOrigin(0,0).setAlpha(0),e.tweens.add({targets:[e.statsText[s],e.statsIcon[s],e.statsLevel[s]],delay:275*o,ease:"Linear",alpha:.75,duration:450,onComplete:function(){o>=n.length-1&&e.tweens.add({targets:r,delay:275,ease:"Linear",alpha:.75,duration:450})},callbackScope:e}),e._createUpgredeButton({x:l,y:u,key:s,level:h})},s=0;s<n.length;s++)o(s)}},{key:"_checkAvailability",value:function(e){this._checkPrice(e);var t=.9;it.money<e.cost&&(e.active=!1,t=.5),e.setAlpha(t),e.textCost.setAlpha(t),e.crystal.setAlpha(t)}},{key:"_checkPrice",value:function(e){e.cost=Math.floor(e.level/10)+1,e.textCost.text=e.cost}},{key:"_createUpgredeButton",value:function(e){this.buttons[e.key]=this.add.sprite(e.x+.3*it.width,e.y,"button_campaign").setOrigin(.5,.125).setScale(.33).setInteractive().on("pointerdown",this._upgarde),this.buttons[e.key].name=e.key,this.buttons[e.key].level=e.level,this.buttons[e.key].cost=Math.floor(this.buttons[e.key].level/10)+1;var t={font:"".concat(.023*it.width,"px DishOut"),fill:"#FFFFFF"};this.buttons[e.key].textCost=this.add.text(this.buttons[e.key].x,this.buttons[e.key].y,"1",t).setOrigin(.5,-.125),this.buttons[e.key].crystal=this.add.sprite(this.buttons[e.key].x,this.buttons[e.key].y,"ruby").setOrigin(.5,.05).setScale(.15),this.buttons[e.key].textCost.x-=this.buttons[e.key].crystal.displayWidth/2,this.buttons[e.key].crystal.x+=this.buttons[e.key].crystal.displayWidth/2,this.buttons[e.key].clicked=!1,this._checkAvailability(this.buttons[e.key])}},{key:"_decreaseMoney",value:function(e){if(!it.money)return!1;it.money-=e,localStorage.setItem("money",it.money),this._moneyText.text=it.money}},{key:"_upgarde",value:function(){var e=this;if(!this._clicked&&this.active){var t=localStorage.getItem("playerWeapon_".concat(this.name));if(!1!==this.scene._decreaseMoney(this.cost)){localStorage.setItem("playerWeapon_".concat(this.name),++t),this.level=t;var r=at({init:!1,key:this.name}),n=1;"scale"===this.name&&(n=100),r=(Math.round(it.Weapons.fire[this.name]*n)/n*n).toFixed(0),this.scene.statsText[this.name].text="".concat(this.name.toUpperCase()," (").concat(it.weapons_units[this.name],"): ").concat(r),this.scene.statsLevel[this.name].text="Lvl. "+localStorage.getItem("playerWeapon_".concat(this.name)),this._clicked=!0,this.setAlpha(1),this.scene.tweens.add({targets:this,ease:"Linear",alpha:.5,duration:1e3,onComplete:function(){e._clicked=!1;for(var t=0;t<Object.keys(it.Weapons.fire).length;t++){var r=Object.keys(it.Weapons.fire)[t];e.scene._checkAvailability(e.scene.buttons[r])}}}),this.scene.createUpgradeAnimation(this.name,t)}}else this.active||this.scene.sounds.error.play({volume:.3})}},{key:"_addReturnButton",value:function(){var e=this;this.add.sprite(ot.left+.015*it.width,ot.top+.015*it.width,"return").setAlpha(.65).setInteractive().on("pointerdown",(function(){e.scene.start(o)}),this)}},{key:"_createSounds",value:function(){this.sounds||(this.sounds={wings:this.sound.add("wings"),upgrade:this.sound.add("upgrade"),error:this.sound.add("error")})}}])&&Le(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}();function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Fe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Fe(i)?i:String(i)),n)}var i}var Ie=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this._colors={},this._colors.r=210,this._colors.g=0,this._colors.b=25,this._style={boxColor:14934490,x:it.width/2-.5*it.width/2,y:it.height/2+.25*it.height,width:.5*it.width,height:.05*it.height},this._progressBox=this.scene.add.graphics(),this._progressBar=this.scene.add.graphics(),this._showProgressBox(),this._setEvents()}var t,r;return t=e,(r=[{key:"_setEvents",value:function(){var e=this;this.scene.load.on("progress",this._showProgressBar,this),this.scene.load.on("complete",(function(){return e.scene.scene.start(o)}),this)}},{key:"_showProgressBox",value:function(){this._progressBox.fillStyle(this._style.boxColor).fillRect(this._style.x,this._style.y,this._style.width,this._style.height)}},{key:"_showProgressBar",value:function(e){this._colors.r=210-200*e,this._colors.g=225*e,this._progressBar.clear().fillStyle(ct(this._colors)).fillRect(this._style.x,this._style.y,this._style.width*e,this._style.height)}}])&&We(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Ce(i)?i:String(i)),n)}var i}function Me(e,t){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Me(e,t)}function He(e){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},He(e)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}(a,Phaser.Scene);var t,r,n,o,s=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=He(n);if(o){var r=He(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s.call(this,i)}return t=a,(r=[{key:"preload",value:function(){this._createBG(),new Ie(this),this._preloadResources(),this._preloadOther()}},{key:"_createBG",value:function(){this.sceneBG=this.add.sprite(it.width/2,it.height/2,"bg").setAlpha(.925).setOrigin(.5).setInteractive();var e=this.cameras.main.width/this.sceneBG.width,t=this.cameras.main.height/this.sceneBG.height,r=Math.max(e,t);this.sceneBG.setScale(r).setScrollFactor(0)}},{key:"_preloadOther",value:function(){this.load.plugin("rexvirtualjoystickplugin","./assets/plugins/rexvirtualjoystickplugin.min.js",!0)}},{key:"_preloadResources",value:function(){var e=this;it.Levels.forEach((function(t){return e.load.image("bg".concat(t.level),"./assets/sprites/bg".concat(t.level,".png"))})),u.forEach((function(t){return e.load.atlas(t,"./assets/sprites/".concat(t,".png"),"./assets/sprites/".concat(t,".json"))})),h.forEach((function(t){return e.load.image(t,"./assets/sprites/".concat(t,".png"))})),f.forEach((function(t){return e.load.audio(t,"./assets/sounds/".concat(t,".mp3"))}))}}])&&Ge(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}();function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Ve(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===Ve(i)?i:String(i)),n)}var i}function Ue(e,t){return Ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ue(e,t)}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}var Xe,Ye,Je,ze,Ze,Qe,$e,et,tt,rt,nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(s,Phaser.Scene);var t,r,n,i,o=(n=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(n);if(i){var r=qe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,"Start")}return t=s,(r=[{key:"create",value:function(e){this._createBG(e),this._createStartText(),void 0!==e.score&&this._createStats(e)}},{key:"_createBG",value:function(e){var t=this;this._sceneBG=this.add.sprite(it.width/2,it.height/2,"bg").setAlpha(.925).setOrigin(.5).setInteractive();var r=this.cameras.main.width/this._sceneBG.width,n=this.cameras.main.height/this._sceneBG.height,i=Math.max(r,n);this._sceneBG.setScale(i).setScrollFactor(0),this._sceneBG.on("pointerdown",(function(){t.scene.start(a,e)}),this)}},{key:"_createStats",value:function(e){this.add.graphics().fillStyle("#000",.5).fillRoundedRect(it.width/2-.15*it.width,it.height/2-.25*it.height,.3*it.width,.5*it.height,.03*it.width);var t=e.completed?"Level completed!":"Game over",r="Score: ".concat(e.score),n={font:"".concat(.03*it.width,"px DishOut"),fill:"#f0f0f0"};this.add.text(it.width/2,it.height/2-.125*it.height,t,n).setOrigin(.5),this.add.text(it.width/2,it.height/2+.125*it.height,r,n).setOrigin(.5)}},{key:"_createStartText",value:function(){this._startText=this.add.text(it.width/2,ot.bottom-.05*it.height,"Tap to start",{font:"".concat(.04*it.width,"px DishOut"),fill:"#f0f0f0"}).setOrigin(.5);var e=this._startText.scale,t=this.add.timeline({at:0,targets:this._startText,scale:e+.18,ease:"Power2",duration:550},{targets:this._startText,scale:e,ease:"Power2",duration:550});t.loop=-1,t.play()}}])&&Ke(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(),it={type:n.AUTO,width:1280,height:720,input:{activePointers:3},physics:{default:"arcade",arcade:{debug:!1}},backgroundColor:"#F3F3F3",parent:"gameDiv",orientation:n.Scale.LANDSCAPE,scale:{mode:n.Scale.ENVELOP,autoCenter:n.Scale.CENTER_BOTH},fps:60,scene:[m,Ne,me,xe,nt,fe,Ee,De],currentLevelScene:null!==(Xe=localStorage.getItem("currentLevelScene"))&&void 0!==Xe?Xe:1,currentLevelPlayer:null!==(Ye=localStorage.getItem("currentLevelPlayer"))&&void 0!==Ye?Ye:1,totalScore:null!==(Je=localStorage.getItem("totalScore"))&&void 0!==Je?Je:0,money:null!==(ze=localStorage.getItem("money"))&&void 0!==ze?ze:0,joystick:{radius:100,gap:35},level:{scoreCof:1.2,levelCof:1.3,score:500},Losses:{jet:null!==(Ze=localStorage.getItem("losses_jet"))&&void 0!==Ze?Ze:0,helicopter:null!==(Qe=localStorage.getItem("losses_helicopter"))&&void 0!==Qe?Qe:0,rocket:null!==($e=localStorage.getItem("losses_rocket"))&&void 0!==$e?$e:0,missile:null!==(et=localStorage.getItem("losses_missile"))&&void 0!==et?et:0},Player:{velocity:350,scale:.75},Enemies:{helicopter:{velocity:110,weapon:"rocket",textureNums:4,scale:.75},jet:{velocity:250,weapon:"missile",textureNums:4,scale:.8},strategic_jet:{velocity:200,weapon:"missile_2",textureNums:4,scale:.95}},Weapons:{fire:{reload:500,velocity:500,scale:.4},rocket:{reload:1750,velocity:-350,scale:.3},missile:{reload:2e3,velocity:-475,scale:.375},missile_2:{reload:2500,velocity:-800,scale:.4}},weapons_units:{reload:"ms",velocity:"m/s",scale:"%"},upgradeColors:{reload:"66E210",velocity:"FF2407",scale:"0291F7"},reward:{missile_2:750,strategic_jet:500,jet:375,helicopter:275,missile:150,rocket:100},Levels:[{level:1,name:"Kyiv Pechersk",x:485,y:175,enemies:5,enemiesDelay:2500,velocity:4},{level:2,name:"Odesa",x:506,y:490,enemies:8,enemiesDelay:2250,velocity:4},{level:3,name:"Kharkiv",x:758,y:179,enemies:11,enemiesDelay:2e3,velocity:4},{level:4,name:"Kyiv Podil",x:430,y:135,enemies:15,enemiesDelay:1850,velocity:4},{level:5,name:"Mariupol Azovstal",x:890,y:397,enemies:21,enemiesDelay:1700,velocity:4},{level:6,name:"Vinnitsia Tower",x:353,y:287,enemies:28,enemiesDelay:1550,velocity:4},{level:7,name:"Kyiv Voskresenka",x:435,y:195,enemies:39,enemiesDelay:1400,velocity:4},{level:8,name:"Lviv Plocha Runok",x:105,y:248,enemies:50,enemiesDelay:1300,velocity:4},{level:9,name:"Dnipro",x:720,y:311,enemies:65,enemiesDelay:1200,velocity:4},{level:10,name:"Genichesk",x:732,y:509,enemies:82,enemiesDelay:1100,velocity:4},{level:11,name:"Donetsk",x:874,y:333,enemies:100,enemiesDelay:1050,velocity:4},{level:12,name:"Zaporizha",x:735,y:366,enemies:120,enemiesDelay:1e3,velocity:4},{level:13,name:"Sevastopol Balaklava",x:676,y:640,enemies:145,enemiesDelay:975,velocity:4},{level:14,name:"Luhansk",x:956,y:261,enemies:200,enemiesDelay:950,velocity:4}],unlim:{unlim:!0,level:14,enemies:9999,enemiesDelay:1500},firstTimePlay:null!==(tt=localStorage.getItem("firstTimePlay"))&&void 0!==tt?tt:"1"},ot=(new n.Game(it),{});function st(){document.body.clientWidth/document.body.clientHeight==16/9?(ot.left=0,ot.right=it.width,ot.top=0,ot.bottom=it.height):document.body.clientWidth>=document.body.clientHeight?document.body.clientWidth/document.body.clientHeight<16/9?(ot.left=it.width/2-it.height/document.body.clientHeight*document.body.clientWidth/2,ot.right=it.width/2+it.height/document.body.clientHeight*document.body.clientWidth/2,ot.top=0,ot.bottom=it.height):(ot.left=0,ot.right=it.width,ot.top=(it.height-it.width/it.height/(document.body.clientWidth/document.body.clientHeight)*it.height)/2,ot.bottom=it.height-(it.height-it.width/it.height/(document.body.clientWidth/document.body.clientHeight)*it.height)/2):(ot.left=it.width/2-it.height/document.body.clientHeight*document.body.clientWidth/2,ot.right=it.width/2+it.height/document.body.clientHeight*document.body.clientWidth/2,ot.top=0,ot.bottom=it.height)}function at(e){return"reload"===e.key?it.Weapons.fire[e.key]-=.05*it.Weapons.fire[e.key]:it.Weapons.fire[e.key]+=.05*it.Weapons.fire[e.key],it.Weapons.fire[e.key]}function ct(e){return"0x"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)}"0"!==localStorage.getItem("firstTimePlay")&&(rt=Array(it.Levels.length).fill(0),localStorage.setItem("hiScores",rt),localStorage.setItem("unlimHiScores",0),Object.keys(it.Losses).forEach((function(e){localStorage.setItem("losses_".concat(e),0)})),function(){for(var e=Object.keys(it.Weapons.fire),t=0;t<e.length;t++){var r=e[t];localStorage.setItem("playerWeapon_".concat(r),1)}}(),localStorage.setItem("currentLevelPlayer",it.currentLevelPlayer),localStorage.setItem("money",it.money)),function(){for(var e=Object.keys(it.Weapons.fire),t=0;t<e.length;t++)for(var r=e[t],n=localStorage.getItem("playerWeapon_".concat(r)),i=1;i<n;i++)"reload"===r?it.Weapons.fire[r]-=.05*it.Weapons.fire[r]:it.Weapons.fire[r]+=.05*it.Weapons.fire[r]}(),window.addEventListener("orientationchange",(function(){document.location.reload()})),window.addEventListener("resize",(function(){document.location.reload()}))}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,i,o)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,i,o]=e[u],a=!0,c=0;c<r.length;c++)(!1&o||s>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(a=!1,o<s&&(s=o));if(a){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,i,o]},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,[s,a,c]=r,l=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)var u=c(n)}for(t&&t(r);l<s.length;l++)o=s[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.webpackChunkinvaiders_must_die=self.webpackChunkinvaiders_must_die||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i=n.O(void 0,[426],(()=>n(314)));i=n.O(i)})();